<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="712px" preserveAspectRatio="none" style="width:2655px;height:712px;background:#FFFFFF;" version="1.1" viewBox="0 0 2655 712" width="2655px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="588.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="392.5" y="69.9609"/><rect fill="#FFFFFF" height="557.9766" style="stroke:#181818;stroke-width:1.0;" width="10" x="768.5" y="100.3125"/><rect fill="#FFFFFF" height="422.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="1053.5" y="175.0156"/><rect fill="#FFFFFF" height="361.8672" style="stroke:#181818;stroke-width:1.0;" width="10" x="1338.5" y="205.3672"/><rect fill="#FFFFFF" height="240.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="1623.5" y="235.7188"/><rect fill="#FFFFFF" height="179.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="1858.5" y="266.0703"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1970" y="506.5313"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="2181" y="130.6641"/><rect fill="#FFFFFF" height="58.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2300.5" y="296.4219"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="2450" y="310.4219"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2586.5" y="385.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="26" x2="26" y1="37.6094" y2="676.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="397" x2="397" y1="37.6094" y2="676.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="773.5" x2="773.5" y1="37.6094" y2="676.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1058" x2="1058" y1="37.6094" y2="676.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1343.5" x2="1343.5" y1="37.6094" y2="676.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1628.5" x2="1628.5" y1="37.6094" y2="676.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1863" x2="1863" y1="37.6094" y2="676.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1975" x2="1975" y1="37.6094" y2="676.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2085" x2="2085" y1="37.6094" y2="676.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2186" x2="2186" y1="37.6094" y2="676.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2305" x2="2305" y1="37.6094" y2="676.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2455" x2="2455" y1="37.6094" y2="676.2891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2591" x2="2591" y1="37.6094" y2="676.2891"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="43" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="12" y="26.5332">User</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="43" x="5" y="675.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="12" y="696.8223">User</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129" x="333" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="340" y="26.5332">IBuildingController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129" x="333" y="675.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="340" y="696.8223">IBuildingController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="710.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="717.5" y="26.5332">BuildingController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="710.5" y="675.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="717.5" y="696.8223">BuildingController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="998" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="1005" y="26.5332">IBuildingsService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="998" y="675.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="1005" y="696.8223">IBuildingsService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="1284.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1291.5" y="26.5332">BuildingsService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="1284.5" y="675.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1291.5" y="696.8223">BuildingsService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="1574.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="1581.5" y="26.5332">IBuildingsRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="1574.5" y="675.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="1581.5" y="696.8223">IBuildingsRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105" x="1811" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="1818" y="26.5332">BuildingsRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105" x="1811" y="675.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="1818" y="696.8223">BuildingsRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="1926" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1933" y="26.5332">BuildingsMap</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="98" x="1926" y="675.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="1933" y="696.8223">BuildingsMap</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="2034" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="2041" y="26.5332">Building Entity</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="2034" y="675.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="2041" y="696.8223">Building Entity</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78" x="2147" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="2154" y="26.5332">ConfigFile</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78" x="2147" y="675.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="2154" y="696.8223">ConfigFile</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="2235" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="2242" y="26.5332">IBuildingPersistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="2235" y="675.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="2242" y="696.8223">IBuildingPersistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138" x="2386" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="2393" y="26.5332">BuildingPersistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138" x="2386" y="675.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="2393" y="696.8223">BuildingPersistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="2534" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="2541" y="26.5332">BuildingSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="2534" y="675.2891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="2541" y="696.8223">BuildingSchema</text><rect fill="#FFFFFF" height="588.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="392.5" y="69.9609"/><rect fill="#FFFFFF" height="557.9766" style="stroke:#181818;stroke-width:1.0;" width="10" x="768.5" y="100.3125"/><rect fill="#FFFFFF" height="422.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="1053.5" y="175.0156"/><rect fill="#FFFFFF" height="361.8672" style="stroke:#181818;stroke-width:1.0;" width="10" x="1338.5" y="205.3672"/><rect fill="#FFFFFF" height="240.4609" style="stroke:#181818;stroke-width:1.0;" width="10" x="1623.5" y="235.7188"/><rect fill="#FFFFFF" height="179.7578" style="stroke:#181818;stroke-width:1.0;" width="10" x="1858.5" y="266.0703"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1970" y="506.5313"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="2181" y="130.6641"/><rect fill="#FFFFFF" height="58.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2300.5" y="296.4219"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="2450" y="310.4219"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2586.5" y="385.125"/><polygon fill="#181818" points="380.5,65.9609,390.5,69.9609,380.5,73.9609,384.5,69.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="26.5" x2="386.5" y1="69.9609" y2="69.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="300" x="33.5" y="65.1045">send request to findByFloors(minFloors, maxFloors)</text><polygon fill="#181818" points="756.5,96.3125,766.5,100.3125,756.5,104.3125,760.5,100.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="402.5" x2="762.5" y1="100.3125" y2="100.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="409.5" y="95.4561">findByFloors(minFloors, maxFloors)</text><polygon fill="#181818" points="2169,126.6641,2179,130.6641,2169,134.6641,2173,130.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="778.5" x2="2175" y1="130.6641" y2="130.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="785.5" y="125.8076">Injects Service</text><polygon fill="#181818" points="789.5,140.6641,779.5,144.6641,789.5,148.6641,785.5,144.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="783.5" x2="2185" y1="144.6641" y2="144.6641"/><polygon fill="#181818" points="1041.5,171.0156,1051.5,175.0156,1041.5,179.0156,1045.5,175.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="778.5" x2="1047.5" y1="175.0156" y2="175.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="256" x="785.5" y="170.1592">listBuildingsByFloors(minFloors, maxFloors)</text><polygon fill="#181818" points="1326.5,201.3672,1336.5,205.3672,1326.5,209.3672,1330.5,205.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1063.5" x2="1332.5" y1="205.3672" y2="205.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="256" x="1070.5" y="200.5107">listBuildingsByFloors(minFloors, maxFloors)</text><polygon fill="#181818" points="1611.5,231.7188,1621.5,235.7188,1611.5,239.7188,1615.5,235.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1348.5" x2="1617.5" y1="235.7188" y2="235.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="256" x="1355.5" y="230.8623">listBuildingsByFloors(minFloors, maxFloors)</text><polygon fill="#181818" points="1846.5,262.0703,1856.5,266.0703,1846.5,270.0703,1850.5,266.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1633.5" x2="1852.5" y1="266.0703" y2="266.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="1640.5" y="261.2139">findByFloors(minFloors, maxFloors)</text><polygon fill="#181818" points="2288.5,292.4219,2298.5,296.4219,2288.5,300.4219,2292.5,296.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1868.5" x2="2294.5" y1="296.4219" y2="296.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246" x="1875.5" y="291.5654">query = FilterQuery(minFloors, maxFloors)</text><polygon fill="#181818" points="2438,306.4219,2448,310.4219,2438,314.4219,2442,310.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2310.5" x2="2444" y1="310.4219" y2="310.4219"/><polygon fill="#181818" points="2321.5,320.4219,2311.5,324.4219,2321.5,328.4219,2317.5,324.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2315.5" x2="2454" y1="324.4219" y2="324.4219"/><polygon fill="#181818" points="1879.5,350.7734,1869.5,354.7734,1879.5,358.7734,1875.5,354.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1873.5" x2="2304.5" y1="354.7734" y2="354.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="1885.5" y="349.917">return query</text><polygon fill="#181818" points="2574.5,381.125,2584.5,385.125,2574.5,389.125,2578.5,385.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1868.5" x2="2580.5" y1="385.125" y2="385.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="1875.5" y="380.2686">find(query)</text><polygon fill="#181818" points="1879.5,411.4766,1869.5,415.4766,1879.5,419.4766,1875.5,415.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1873.5" x2="2590.5" y1="415.4766" y2="415.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1885.5" y="410.6201">return filtered buildings</text><polygon fill="#181818" points="1644.5,441.8281,1634.5,445.8281,1644.5,449.8281,1640.5,445.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1638.5" x2="1862.5" y1="445.8281" y2="445.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1650.5" y="440.9717">return filtered buildings</text><polygon fill="#181818" points="1359.5,472.1797,1349.5,476.1797,1359.5,480.1797,1355.5,476.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1353.5" x2="1627.5" y1="476.1797" y2="476.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="1365.5" y="471.3232">filtered buildings</text><polygon fill="#181818" points="1958,502.5313,1968,506.5313,1958,510.5313,1962,506.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1348.5" x2="1964" y1="506.5313" y2="506.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="1355.5" y="501.6748">toDTOs(filteredBuildings)</text><polygon fill="#181818" points="1359.5,532.8828,1349.5,536.8828,1359.5,540.8828,1355.5,536.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1353.5" x2="1974" y1="536.8828" y2="536.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="1365.5" y="532.0264">return list of buildingDTOs</text><polygon fill="#181818" points="1074.5,563.2344,1064.5,567.2344,1074.5,571.2344,1070.5,567.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1068.5" x2="1342.5" y1="567.2344" y2="567.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="1080.5" y="562.3779">return list of buildingDTOs</text><polygon fill="#181818" points="789.5,593.5859,779.5,597.5859,789.5,601.5859,785.5,597.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="783.5" x2="1057.5" y1="597.5859" y2="597.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="795.5" y="592.7295">Return list of buildingDTOs</text><polygon fill="#181818" points="413.5,623.9375,403.5,627.9375,413.5,631.9375,409.5,627.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="407.5" x2="767.5" y1="627.9375" y2="627.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="342" x="419.5" y="623.0811">Send response with status 200 and the list of buildingDTOs</text><polygon fill="#181818" points="37.5,654.2891,27.5,658.2891,37.5,662.2891,33.5,658.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="31.5" x2="396.5" y1="658.2891" y2="658.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="342" x="43.5" y="653.4326">Send response with status 200 and the list of buildingDTOs</text><!--MD5=[4aa685170cec4c23e5367859a035c424]
@startuml sd

participant "User" as A
participant "IBuildingController" as IB
participant "BuildingController" as B
participant "IBuildingsService" as IC
participant "BuildingsService" as C
participant "IBuildingsRepo" as ID
participant "BuildingsRepo" as D
participant "BuildingsMap" as F
participant "Building Entity" as E
participant "ConfigFile" as CONF
participant "IBuildingPersistence" as IH
participant "BuildingPersistence" as H
participant "BuildingSchema" as I

A -> IB: send request to findByFloors(minFloors, maxFloors)
activate IB

IB -> B: findByFloors(minFloors, maxFloors)
activate B

B -> CONF: Injects Service
activate CONF
CONF -> B
deactivate CONF

B -> IC: listBuildingsByFloors(minFloors, maxFloors)
activate IC

IC -> C: listBuildingsByFloors(minFloors, maxFloors)
activate C

C -> ID: listBuildingsByFloors(minFloors, maxFloors)
activate ID

ID -> D: findByFloors(minFloors, maxFloors)
activate D

D -> IH: query = FilterQuery(minFloors, maxFloors)
activate IH
IH -> H
activate H
H -> IH
deactivate H
IH -> D: return query
deactivate IH
D -> I: find(query)
activate I
I - -> D: return filtered buildings
deactivate I
D - -> ID: return filtered buildings
deactivate D
ID - -> C: filtered buildings
deactivate ID

C -> F: toDTOs(filteredBuildings)
activate F
F - -> C: return list of buildingDTOs
deactivate F

C - -> IC: return list of buildingDTOs
deactivate C

IC - -> B: Return list of buildingDTOs
deactivate IC

B -> IB: Send response with status 200 and the list of buildingDTOs

IB -> A: Send response with status 200 and the list of buildingDTOs
deactivate B
deactivate IB

@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>