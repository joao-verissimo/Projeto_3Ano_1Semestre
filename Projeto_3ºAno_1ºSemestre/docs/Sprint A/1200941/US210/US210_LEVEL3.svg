<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="757px" preserveAspectRatio="none" style="width:2443px;height:757px;background:#FFFFFF;" version="1.1" viewBox="0 0 2443 757" width="2443px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="632.6797" style="stroke:#181818;stroke-width:1.0;" width="10" x="393.5" y="69.9609"/><rect fill="#FFFFFF" height="571.9766" style="stroke:#181818;stroke-width:1.0;" width="10" x="770.5" y="100.3125"/><rect fill="#FFFFFF" height="466.9219" style="stroke:#181818;stroke-width:1.0;" width="10" x="997.5" y="175.0156"/><rect fill="#FFFFFF" height="406.2188" style="stroke:#181818;stroke-width:1.0;" width="10" x="1182.5" y="205.3672"/><rect fill="#FFFFFF" height="224.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="1367.5" y="235.7188"/><rect fill="#FFFFFF" height="163.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1552.5" y="266.0703"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1666.5" y="490.1797"/><rect fill="#FFFFFF" height="42" style="stroke:#181818;stroke-width:1.0;" width="10" x="1916.5" y="296.4219"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="2066" y="310.4219"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2202.5" y="368.7734"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2307" y="550.8828"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="2393" y="130.6641"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="26" x2="26" y1="37.6094" y2="720.6406"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="398" x2="398" y1="37.6094" y2="720.6406"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="775.5" x2="775.5" y1="37.6094" y2="720.6406"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1002" x2="1002" y1="37.6094" y2="720.6406"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1187.5" x2="1187.5" y1="37.6094" y2="720.6406"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1372.5" x2="1372.5" y1="37.6094" y2="720.6406"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1557" x2="1557" y1="37.6094" y2="720.6406"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1671" x2="1671" y1="37.6094" y2="720.6406"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1921" x2="1921" y1="37.6094" y2="720.6406"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2071" x2="2071" y1="37.6094" y2="720.6406"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2207" x2="2207" y1="37.6094" y2="720.6406"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2312" x2="2312" y1="37.6094" y2="720.6406"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="2398" x2="2398" y1="37.6094" y2="720.6406"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="43" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="12" y="26.5332">User</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="43" x="5" y="719.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="12" y="741.1738">User</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129" x="334" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="341" y="26.5332">IBuildingController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="129" x="334" y="719.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="341" y="741.1738">IBuildingController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="712.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="719.5" y="26.5332">BuildingController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="712.5" y="719.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="719.5" y="741.1738">BuildingController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="942" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="949" y="26.5332">IBuildingsService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="942" y="719.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107" x="949" y="741.1738">IBuildingsService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="1128.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1135.5" y="26.5332">BuildingsService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="1128.5" y="719.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1135.5" y="741.1738">BuildingsService</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="1318.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="1325.5" y="26.5332">IBuildingsRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108" x="1318.5" y="719.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="1325.5" y="741.1738">IBuildingsRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105" x="1505" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="1512" y="26.5332">BuildingsRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105" x="1505" y="719.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="1512" y="741.1738">BuildingsRepo</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="1620" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="1627" y="26.5332">Building Entity</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="103" x="1620" y="719.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="1627" y="741.1738">Building Entity</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="1851" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="1858" y="26.5332">IBuildingPersistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="1851" y="719.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="1858" y="741.1738">IBuildingPersistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138" x="2002" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="2009" y="26.5332">BuildingPersistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="138" x="2002" y="719.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124" x="2009" y="741.1738">BuildingPersistence</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="2150" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="2157" y="26.5332">BuildingSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="2150" y="719.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="2157" y="741.1738">BuildingSchema</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74" x="2275" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="2282" y="26.5332">FloorMap</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="74" x="2275" y="719.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="2282" y="741.1738">FloorMap</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78" x="2359" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="2366" y="26.5332">ConfigFile</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78" x="2359" y="719.6406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="2366" y="741.1738">ConfigFile</text><rect fill="#FFFFFF" height="632.6797" style="stroke:#181818;stroke-width:1.0;" width="10" x="393.5" y="69.9609"/><rect fill="#FFFFFF" height="571.9766" style="stroke:#181818;stroke-width:1.0;" width="10" x="770.5" y="100.3125"/><rect fill="#FFFFFF" height="466.9219" style="stroke:#181818;stroke-width:1.0;" width="10" x="997.5" y="175.0156"/><rect fill="#FFFFFF" height="406.2188" style="stroke:#181818;stroke-width:1.0;" width="10" x="1182.5" y="205.3672"/><rect fill="#FFFFFF" height="224.1094" style="stroke:#181818;stroke-width:1.0;" width="10" x="1367.5" y="235.7188"/><rect fill="#FFFFFF" height="163.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1552.5" y="266.0703"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1666.5" y="490.1797"/><rect fill="#FFFFFF" height="42" style="stroke:#181818;stroke-width:1.0;" width="10" x="1916.5" y="296.4219"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="2066" y="310.4219"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2202.5" y="368.7734"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2307" y="550.8828"/><rect fill="#FFFFFF" height="14" style="stroke:#181818;stroke-width:1.0;" width="10" x="2393" y="130.6641"/><polygon fill="#181818" points="381.5,65.9609,391.5,69.9609,381.5,73.9609,385.5,69.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="26.5" x2="387.5" y1="69.9609" y2="69.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="282" x="33.5" y="65.1045">send request to listAllFloorsInBuilding(buildingID)</text><polygon fill="#181818" points="758.5,96.3125,768.5,100.3125,758.5,104.3125,762.5,100.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="403.5" x2="764.5" y1="100.3125" y2="100.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="410.5" y="95.4561">listAllFloorsInBuilding(buildingID)</text><polygon fill="#181818" points="2381,126.6641,2391,130.6641,2381,134.6641,2385,130.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="780.5" x2="2387" y1="130.6641" y2="130.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="787.5" y="125.8076">Injects Service</text><polygon fill="#181818" points="791.5,140.6641,781.5,144.6641,791.5,148.6641,787.5,144.6641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="785.5" x2="2397" y1="144.6641" y2="144.6641"/><polygon fill="#181818" points="985.5,171.0156,995.5,175.0156,985.5,179.0156,989.5,175.0156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="780.5" x2="991.5" y1="175.0156" y2="175.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="198" x="787.5" y="170.1592">getAllFloorsForBuilding(buildingID)</text><polygon fill="#181818" points="1170.5,201.3672,1180.5,205.3672,1170.5,209.3672,1174.5,205.3672" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1007.5" x2="1176.5" y1="205.3672" y2="205.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="1014.5" y="200.5107">findByDomainID(buildingID)</text><polygon fill="#181818" points="1355.5,231.7188,1365.5,235.7188,1355.5,239.7188,1359.5,235.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1192.5" x2="1361.5" y1="235.7188" y2="235.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="1199.5" y="230.8623">findByDomainID(buildingID)</text><polygon fill="#181818" points="1540.5,262.0703,1550.5,266.0703,1540.5,270.0703,1544.5,266.0703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1377.5" x2="1546.5" y1="266.0703" y2="266.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="1384.5" y="261.2139">findByDomainID(buildingID)</text><polygon fill="#181818" points="1904.5,292.4219,1914.5,296.4219,1904.5,300.4219,1908.5,296.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1562.5" x2="1910.5" y1="296.4219" y2="296.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="335" x="1569.5" y="291.5654">query as FilterQuery&lt;IBuildingsPersistence &amp; Document&gt;</text><polygon fill="#181818" points="2054,306.4219,2064,310.4219,2054,314.4219,2058,310.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1926.5" x2="2060" y1="310.4219" y2="310.4219"/><polygon fill="#181818" points="1937.5,320.4219,1927.5,324.4219,1937.5,328.4219,1933.5,324.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1931.5" x2="2070" y1="324.4219" y2="324.4219"/><polygon fill="#181818" points="1573.5,334.4219,1563.5,338.4219,1573.5,342.4219,1569.5,338.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1567.5" x2="1920.5" y1="338.4219" y2="338.4219"/><polygon fill="#181818" points="2190.5,364.7734,2200.5,368.7734,2190.5,372.7734,2194.5,368.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1562.5" x2="2196.5" y1="368.7734" y2="368.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="1569.5" y="363.917">findOne(query)</text><polygon fill="#181818" points="1573.5,395.125,1563.5,399.125,1573.5,403.125,1569.5,399.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1567.5" x2="2206.5" y1="399.125" y2="399.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="1579.5" y="394.2686">return building entity</text><polygon fill="#181818" points="1388.5,425.4766,1378.5,429.4766,1388.5,433.4766,1384.5,429.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1382.5" x2="1556.5" y1="429.4766" y2="429.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="1394.5" y="424.6201">return building entity</text><polygon fill="#181818" points="1203.5,455.8281,1193.5,459.8281,1203.5,463.8281,1199.5,459.8281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1197.5" x2="1371.5" y1="459.8281" y2="459.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="1209.5" y="454.9717">building entity</text><polygon fill="#181818" points="1654.5,486.1797,1664.5,490.1797,1654.5,494.1797,1658.5,490.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1192.5" x2="1660.5" y1="490.1797" y2="490.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="283" x="1199.5" y="485.3232">floorsInBuilding: Floor[] = building.floorOnBuilding</text><polygon fill="#181818" points="1203.5,516.5313,1193.5,520.5313,1203.5,524.5313,1199.5,520.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1197.5" x2="1670.5" y1="520.5313" y2="520.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="1209.5" y="515.6748">returns building.floorOnBuilding</text><polygon fill="#181818" points="2295,546.8828,2305,550.8828,2295,554.8828,2299,550.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1192.5" x2="2301" y1="550.8828" y2="550.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="428" x="1199.5" y="546.0264">floorsInBuildingDTO = floorsInBuilding.map(floor =&gt; FloorMap.toDTO(floor))</text><polygon fill="#181818" points="1203.5,577.2344,1193.5,581.2344,1203.5,585.2344,1199.5,581.2344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1197.5" x2="2311" y1="581.2344" y2="581.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="1209.5" y="576.3779">returns floorDTO</text><polygon fill="#181818" points="1018.5,607.5859,1008.5,611.5859,1018.5,615.5859,1014.5,611.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1012.5" x2="1186.5" y1="611.5859" y2="611.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="1024.5" y="606.7295">return floorsInBuildingDTO</text><polygon fill="#181818" points="791.5,637.9375,781.5,641.9375,791.5,645.9375,787.5,641.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="785.5" x2="1001.5" y1="641.9375" y2="641.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="797.5" y="637.0811">Return floorsInBuildingDTO</text><polygon fill="#181818" points="414.5,668.2891,404.5,672.2891,414.5,676.2891,410.5,672.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="408.5" x2="774.5" y1="672.2891" y2="672.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="343" x="420.5" y="667.4326">Send response with status 200 and the floorsInBuildingDTO</text><polygon fill="#181818" points="37.5,698.6406,27.5,702.6406,37.5,706.6406,33.5,702.6406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="31.5" x2="397.5" y1="702.6406" y2="702.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="343" x="43.5" y="697.7842">Send response with status 200 and the floorsInBuildingDTO</text><!--MD5=[6dbfe29fcfcfab8523adee334d778fda]
@startuml sd

participant "User" as A
participant "IBuildingController" as IB
participant "BuildingController" as B
participant "IBuildingsService" as IC
participant "BuildingsService" as C
participant "IBuildingsRepo" as ID
participant "BuildingsRepo" as D
participant "Building Entity" as E
participant "ConfigFile" as CONF
participant "IBuildingPersistence" as IH
participant "BuildingPersistence" as H
participant "BuildingSchema" as I
participant "FloorMap" as FM
participant "ConfigFile" as CONF

A -> IB: send request to listAllFloorsInBuilding(buildingID)
activate IB

IB -> B: listAllFloorsInBuilding(buildingID)
activate B
B -> CONF: Injects Service
activate CONF
CONF -> B
deactivate CONF
B -> IC: getAllFloorsForBuilding(buildingID)
activate IC

IC -> C: findByDomainID(buildingID)
activate C

C -> ID: findByDomainID(buildingID)
activate ID

ID -> D: findByDomainID(buildingID)
activate D

D -> IH: query as FilterQuery<IBuildingsPersistence & Document>
activate IH

IH -> H: 
activate H

H -> IH:
deactivate H

IH -> D:
deactivate IH

D -> I: findOne(query)
activate I

I - -> D: return building entity
deactivate I

D - -> ID: return building entity
deactivate D

ID - -> C: building entity
deactivate ID
C - -> E:  floorsInBuilding: Floor[] = building.floorOnBuilding
activate E
E - -> C: returns building.floorOnBuilding
deactivate E
C - -> FM: floorsInBuildingDTO = floorsInBuilding.map(floor => FloorMap.toDTO(floor))
activate FM
FM - -> C: returns floorDTO
deactivate FM
C - -> IC: return floorsInBuildingDTO
deactivate C

IC - -> B: Return floorsInBuildingDTO
deactivate IC

B -> IB: Send response with status 200 and the floorsInBuildingDTO
deactivate B

IB -> A: Send response with status 200 and the floorsInBuildingDTO
deactivate IB

@enduml

PlantUML version 1.2022.7(Mon Aug 22 18:01:30 WEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>