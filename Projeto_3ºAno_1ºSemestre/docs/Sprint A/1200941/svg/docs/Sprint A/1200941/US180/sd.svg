<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="694px" preserveAspectRatio="none" style="width:2888px;height:694px;" version="1.1" viewBox="0 0 2888 694" width="2888px" zoomAndPan="magnify"><defs><filter height="300%" id="f150ltktot9oys" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f150ltktot9oys)" height="566.3906" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="432" y="69.4297"/><rect fill="#FFFFFF" filter="url(#f150ltktot9oys)" height="537.2578" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="841" y="98.5625"/><rect fill="#FFFFFF" filter="url(#f150ltktot9oys)" height="406.7266" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1145" y="170.8281"/><rect fill="#FFFFFF" filter="url(#f150ltktot9oys)" height="348.4609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1449" y="199.9609"/><rect fill="#FFFFFF" filter="url(#f150ltktot9oys)" height="231.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1753" y="229.0938"/><rect fill="#FFFFFF" filter="url(#f150ltktot9oys)" height="173.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2005" y="258.2266"/><rect fill="#FFFFFF" filter="url(#f150ltktot9oys)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2129" y="490.1563"/><rect fill="#FFFFFF" filter="url(#f150ltktot9oys)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2361.5" y="127.6953"/><rect fill="#FFFFFF" filter="url(#f150ltktot9oys)" height="57.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2493" y="287.3594"/><rect fill="#FFFFFF" filter="url(#f150ltktot9oys)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2659.5" y="301.3594"/><rect fill="#FFFFFF" filter="url(#f150ltktot9oys)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2811.5" y="373.625"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="33" x2="33" y1="38.2969" y2="653.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="436.5" x2="436.5" y1="38.2969" y2="653.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="846" x2="846" y1="38.2969" y2="653.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1150" x2="1150" y1="38.2969" y2="653.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1453.5" x2="1453.5" y1="38.2969" y2="653.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1757.5" x2="1757.5" y1="38.2969" y2="653.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2010" x2="2010" y1="38.2969" y2="653.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2134" x2="2134" y1="38.2969" y2="653.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2256" x2="2256" y1="38.2969" y2="653.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2366" x2="2366" y1="38.2969" y2="653.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2498" x2="2498" y1="38.2969" y2="653.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2664" x2="2664" y1="38.2969" y2="653.8203"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2816" x2="2816" y1="38.2969" y2="653.8203"/><rect fill="#FEFECE" filter="url(#f150ltktot9oys)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="46" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="15" y="22.9951">User</text><rect fill="#FEFECE" filter="url(#f150ltktot9oys)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="46" x="8" y="652.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="15" y="672.8154">User</text><rect fill="#FEFECE" filter="url(#f150ltktot9oys)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="139" x="365.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="125" x="372.5" y="22.9951">IBuildingController</text><rect fill="#FEFECE" filter="url(#f150ltktot9oys)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="139" x="365.5" y="652.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="125" x="372.5" y="672.8154">IBuildingController</text><rect fill="#FEFECE" filter="url(#f150ltktot9oys)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="136" x="776" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="783" y="22.9951">BuildingController</text><rect fill="#FEFECE" filter="url(#f150ltktot9oys)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="136" x="776" y="652.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="783" y="672.8154">BuildingController</text><rect fill="#FEFECE" filter="url(#f150ltktot9oys)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="130" x="1083" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="1090" y="22.9951">IBuildingsService</text><rect fill="#FEFECE" filter="url(#f150ltktot9oys)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="130" x="1083" y="652.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="1090" y="672.8154">IBuildingsService</text><rect fill="#FEFECE" filter="url(#f150ltktot9oys)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="1388.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="1395.5" y="22.9951">BuildingsService</text><rect fill="#FEFECE" filter="url(#f150ltktot9oys)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="1388.5" y="652.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="1395.5" y="672.8154">BuildingsService</text><rect fill="#FEFECE" filter="url(#f150ltktot9oys)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="117" x="1697.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="103" x="1704.5" y="22.9951">IBuildingsRepo</text><rect fill="#FEFECE" filter="url(#f150ltktot9oys)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="117" x="1697.5" y="652.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="103" x="1704.5" y="672.8154">IBuildingsRepo</text><rect fill="#FEFECE" filter="url(#f150ltktot9oys)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="114" x="1951" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="100" x="1958" y="22.9951">BuildingsRepo</text><rect fill="#FEFECE" filter="url(#f150ltktot9oys)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="114" x="1951" y="652.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="100" x="1958" y="672.8154">BuildingsRepo</text><rect fill="#FEFECE" filter="url(#f150ltktot9oys)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="106" x="2079" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="2086" y="22.9951">BuildingsMap</text><rect fill="#FEFECE" filter="url(#f150ltktot9oys)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="106" x="2079" y="652.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="92" x="2086" y="672.8154">BuildingsMap</text><rect fill="#FEFECE" filter="url(#f150ltktot9oys)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="2199" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="2206" y="22.9951">Building Entity</text><rect fill="#FEFECE" filter="url(#f150ltktot9oys)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="2199" y="652.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="2206" y="672.8154">Building Entity</text><rect fill="#FEFECE" filter="url(#f150ltktot9oys)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="81" x="2324" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="2331" y="22.9951">ConfigFile</text><rect fill="#FEFECE" filter="url(#f150ltktot9oys)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="81" x="2324" y="652.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="2331" y="672.8154">ConfigFile</text><rect fill="#FEFECE" filter="url(#f150ltktot9oys)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="154" x="2419" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="140" x="2426" y="22.9951">IBuildingPersistence</text><rect fill="#FEFECE" filter="url(#f150ltktot9oys)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="154" x="2419" y="652.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="140" x="2426" y="672.8154">IBuildingPersistence</text><rect fill="#FEFECE" filter="url(#f150ltktot9oys)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="151" x="2587" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="137" x="2594" y="22.9951">BuildingPersistence</text><rect fill="#FEFECE" filter="url(#f150ltktot9oys)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="151" x="2587" y="652.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="137" x="2594" y="672.8154">BuildingPersistence</text><rect fill="#FEFECE" filter="url(#f150ltktot9oys)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="2752" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="2759" y="22.9951">BuildingSchema</text><rect fill="#FEFECE" filter="url(#f150ltktot9oys)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="2752" y="652.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="2759" y="672.8154">BuildingSchema</text><rect fill="#FFFFFF" filter="url(#f150ltktot9oys)" height="566.3906" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="432" y="69.4297"/><rect fill="#FFFFFF" filter="url(#f150ltktot9oys)" height="537.2578" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="841" y="98.5625"/><rect fill="#FFFFFF" filter="url(#f150ltktot9oys)" height="406.7266" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1145" y="170.8281"/><rect fill="#FFFFFF" filter="url(#f150ltktot9oys)" height="348.4609" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1449" y="199.9609"/><rect fill="#FFFFFF" filter="url(#f150ltktot9oys)" height="231.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1753" y="229.0938"/><rect fill="#FFFFFF" filter="url(#f150ltktot9oys)" height="173.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2005" y="258.2266"/><rect fill="#FFFFFF" filter="url(#f150ltktot9oys)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2129" y="490.1563"/><rect fill="#FFFFFF" filter="url(#f150ltktot9oys)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2361.5" y="127.6953"/><rect fill="#FFFFFF" filter="url(#f150ltktot9oys)" height="57.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2493" y="287.3594"/><rect fill="#FFFFFF" filter="url(#f150ltktot9oys)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2659.5" y="301.3594"/><rect fill="#FFFFFF" filter="url(#f150ltktot9oys)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2811.5" y="373.625"/><polygon fill="#A80036" points="420,65.4297,430,69.4297,420,73.4297,424,69.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="33" x2="426" y1="69.4297" y2="69.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="328" x="40" y="64.3638">send request to findByFloors(minFloors, maxFloors)</text><polygon fill="#A80036" points="829,94.5625,839,98.5625,829,102.5625,833,98.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="442" x2="835" y1="98.5625" y2="98.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="223" x="449" y="93.4966">findByFloors(minFloors, maxFloors)</text><polygon fill="#A80036" points="2349.5,123.6953,2359.5,127.6953,2349.5,131.6953,2353.5,127.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="851" x2="2355.5" y1="127.6953" y2="127.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="858" y="122.6294">Injects Service</text><polygon fill="#A80036" points="862,137.6953,852,141.6953,862,145.6953,858,141.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="856" x2="2365.5" y1="141.6953" y2="141.6953"/><polygon fill="#A80036" points="1133,166.8281,1143,170.8281,1133,174.8281,1137,170.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="851" x2="1139" y1="170.8281" y2="170.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="275" x="858" y="165.7622">listBuildingsByFloors(minFloors, maxFloors)</text><polygon fill="#A80036" points="1437,195.9609,1447,199.9609,1437,203.9609,1441,199.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1155" x2="1443" y1="199.9609" y2="199.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="275" x="1162" y="194.895">listBuildingsByFloors(minFloors, maxFloors)</text><polygon fill="#A80036" points="1741,225.0938,1751,229.0938,1741,233.0938,1745,229.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1459" x2="1747" y1="229.0938" y2="229.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="275" x="1466" y="224.0278">listBuildingsByFloors(minFloors, maxFloors)</text><polygon fill="#A80036" points="1993,254.2266,2003,258.2266,1993,262.2266,1997,258.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1763" x2="1999" y1="258.2266" y2="258.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="223" x="1770" y="253.1606">findByFloors(minFloors, maxFloors)</text><polygon fill="#A80036" points="2481,283.3594,2491,287.3594,2481,291.3594,2485,287.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2015" x2="2487" y1="287.3594" y2="287.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="270" x="2022" y="282.2935">query = FilterQuery(minFloors, maxFloors)</text><polygon fill="#A80036" points="2647.5,297.3594,2657.5,301.3594,2647.5,305.3594,2651.5,301.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2503" x2="2653.5" y1="301.3594" y2="301.3594"/><polygon fill="#A80036" points="2514,311.3594,2504,315.3594,2514,319.3594,2510,315.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2508" x2="2663.5" y1="315.3594" y2="315.3594"/><polygon fill="#A80036" points="2026,340.4922,2016,344.4922,2026,348.4922,2022,344.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2020" x2="2497" y1="344.4922" y2="344.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="2032" y="339.4263">return query</text><polygon fill="#A80036" points="2799.5,369.625,2809.5,373.625,2799.5,377.625,2803.5,373.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2015" x2="2805.5" y1="373.625" y2="373.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69" x="2022" y="368.5591">find(query)</text><polygon fill="#A80036" points="2026,398.7578,2016,402.7578,2026,406.7578,2022,402.7578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="2020" x2="2815.5" y1="402.7578" y2="402.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="2032" y="397.6919">return filtered buildings</text><polygon fill="#A80036" points="1774,427.8906,1764,431.8906,1774,435.8906,1770,431.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1768" x2="2009" y1="431.8906" y2="431.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="1780" y="426.8247">return filtered buildings</text><polygon fill="#A80036" points="1470,457.0234,1460,461.0234,1470,465.0234,1466,461.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1464" x2="1757" y1="461.0234" y2="461.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="1476" y="455.9575">filtered buildings</text><polygon fill="#A80036" points="2117,486.1563,2127,490.1563,2117,494.1563,2121,490.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1459" x2="2123" y1="490.1563" y2="490.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="1466" y="485.0903">toDTOs(filteredBuildings)</text><polygon fill="#A80036" points="1470,515.2891,1460,519.2891,1470,523.2891,1466,519.2891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1464" x2="2133" y1="519.2891" y2="519.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="1476" y="514.2231">return list of buildingDTOs</text><polygon fill="#A80036" points="1166,544.4219,1156,548.4219,1166,552.4219,1162,548.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1160" x2="1453" y1="548.4219" y2="548.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="1172" y="543.356">return list of buildingDTOs</text><polygon fill="#A80036" points="862,573.5547,852,577.5547,862,581.5547,858,577.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="856" x2="1149" y1="577.5547" y2="577.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="868" y="572.4888">Return list of buildingDTOs</text><polygon fill="#A80036" points="453,602.6875,443,606.6875,453,610.6875,449,606.6875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="447" x2="840" y1="606.6875" y2="606.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="375" x="459" y="601.6216">Send response with status 200 and the list of buildingDTOs</text><polygon fill="#A80036" points="44,631.8203,34,635.8203,44,639.8203,40,635.8203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="38" x2="436" y1="635.8203" y2="635.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="375" x="50" y="630.7544">Send response with status 200 and the list of buildingDTOs</text><!--MD5=[5c93ce3868b8ab35a82ff5fd9e1ba914]
@startuml sd

participant "User" as A
participant "IBuildingController" as IB
participant "BuildingController" as B
participant "IBuildingsService" as IC
participant "BuildingsService" as C
participant "IBuildingsRepo" as ID
participant "BuildingsRepo" as D
participant "BuildingsMap" as F
participant "Building Entity" as E
participant "ConfigFile" as CONF
participant "IBuildingPersistence" as IH
participant "BuildingPersistence" as H
participant "BuildingSchema" as I

A -> IB: send request to findByFloors(minFloors, maxFloors)
activate IB

IB -> B: findByFloors(minFloors, maxFloors)
activate B

B -> CONF: Injects Service
activate CONF
CONF -> B
deactivate CONF

B -> IC: listBuildingsByFloors(minFloors, maxFloors)
activate IC

IC -> C: listBuildingsByFloors(minFloors, maxFloors)
activate C

C -> ID: listBuildingsByFloors(minFloors, maxFloors)
activate ID

ID -> D: findByFloors(minFloors, maxFloors)
activate D

D -> IH: query = FilterQuery(minFloors, maxFloors)
activate IH
IH -> H
activate H
H -> IH
deactivate H
IH -> D: return query
deactivate IH
D -> I: find(query)
activate I
I - -> D: return filtered buildings
deactivate I
D - -> ID: return filtered buildings
deactivate D
ID - -> C: filtered buildings
deactivate ID

C -> F: toDTOs(filteredBuildings)
activate F
F - -> C: return list of buildingDTOs
deactivate F

C - -> IC: return list of buildingDTOs
deactivate C

IC - -> B: Return list of buildingDTOs
deactivate IC

B -> IB: Send response with status 200 and the list of buildingDTOs

IB -> A: Send response with status 200 and the list of buildingDTOs
deactivate B
deactivate IB

@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.21+9
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>