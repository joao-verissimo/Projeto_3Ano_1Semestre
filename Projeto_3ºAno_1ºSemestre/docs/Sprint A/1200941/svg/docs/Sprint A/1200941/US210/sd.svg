<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="737px" preserveAspectRatio="none" style="width:2480px;height:737px;" version="1.1" viewBox="0 0 2480 737" width="2480px" zoomAndPan="magnify"><defs><filter height="300%" id="f7tjda5zw3gt" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f7tjda5zw3gt)" height="609.5234" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="373" y="69.4297"/><rect fill="#FFFFFF" filter="url(#f7tjda5zw3gt)" height="551.2578" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="723" y="98.5625"/><rect fill="#FFFFFF" filter="url(#f7tjda5zw3gt)" height="449.8594" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="949" y="170.8281"/><rect fill="#FFFFFF" filter="url(#f7tjda5zw3gt)" height="391.5938" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1152" y="199.9609"/><rect fill="#FFFFFF" filter="url(#f7tjda5zw3gt)" height="216.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1355" y="229.0938"/><rect fill="#FFFFFF" filter="url(#f7tjda5zw3gt)" height="158.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1558" y="258.2266"/><rect fill="#FFFFFF" filter="url(#f7tjda5zw3gt)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1659.5" y="475.0234"/><rect fill="#FFFFFF" filter="url(#f7tjda5zw3gt)" height="42" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1931" y="287.3594"/><rect fill="#FFFFFF" filter="url(#f7tjda5zw3gt)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2076.5" y="301.3594"/><rect fill="#FFFFFF" filter="url(#f7tjda5zw3gt)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2207.5" y="358.4922"/><rect fill="#FFFFFF" filter="url(#f7tjda5zw3gt)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2322.5" y="533.2891"/><rect fill="#FFFFFF" filter="url(#f7tjda5zw3gt)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2426" y="127.6953"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="33" x2="33" y1="38.2969" y2="696.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="378" x2="378" y1="38.2969" y2="696.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="727.5" x2="727.5" y1="38.2969" y2="696.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="953.5" x2="953.5" y1="38.2969" y2="696.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1157" x2="1157" y1="38.2969" y2="696.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1360" x2="1360" y1="38.2969" y2="696.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1562.5" x2="1562.5" y1="38.2969" y2="696.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1664.5" x2="1664.5" y1="38.2969" y2="696.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1935.5" x2="1935.5" y1="38.2969" y2="696.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2081.5" x2="2081.5" y1="38.2969" y2="696.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2212.5" x2="2212.5" y1="38.2969" y2="696.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2327.5" x2="2327.5" y1="38.2969" y2="696.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2430.5" x2="2430.5" y1="38.2969" y2="696.9531"/><rect fill="#FEFECE" filter="url(#f7tjda5zw3gt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="46" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="15" y="22.9951">User</text><rect fill="#FEFECE" filter="url(#f7tjda5zw3gt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="46" x="8" y="695.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="15" y="715.9482">User</text><rect fill="#FEFECE" filter="url(#f7tjda5zw3gt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="317" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="324" y="22.9951">IFloorController</text><rect fill="#FEFECE" filter="url(#f7tjda5zw3gt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="317" y="695.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="324" y="715.9482">IFloorController</text><rect fill="#FEFECE" filter="url(#f7tjda5zw3gt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="115" x="668.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="101" x="675.5" y="22.9951">FloorController</text><rect fill="#FEFECE" filter="url(#f7tjda5zw3gt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="115" x="668.5" y="695.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="101" x="675.5" y="715.9482">FloorController</text><rect fill="#FEFECE" filter="url(#f7tjda5zw3gt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="101" x="901.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="908.5" y="22.9951">IFloorService</text><rect fill="#FEFECE" filter="url(#f7tjda5zw3gt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="101" x="901.5" y="695.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="908.5" y="715.9482">IFloorService</text><rect fill="#FEFECE" filter="url(#f7tjda5zw3gt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="1106" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="1113" y="22.9951">FloorService</text><rect fill="#FEFECE" filter="url(#f7tjda5zw3gt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="1106" y="695.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="1113" y="715.9482">FloorService</text><rect fill="#FEFECE" filter="url(#f7tjda5zw3gt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="1314" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="1321" y="22.9951">IFloorRepo</text><rect fill="#FEFECE" filter="url(#f7tjda5zw3gt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="1314" y="695.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="1321" y="715.9482">IFloorRepo</text><rect fill="#FEFECE" filter="url(#f7tjda5zw3gt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="1518.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="1525.5" y="22.9951">FloorRepo</text><rect fill="#FEFECE" filter="url(#f7tjda5zw3gt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="1518.5" y="695.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="1525.5" y="715.9482">FloorRepo</text><rect fill="#FEFECE" filter="url(#f7tjda5zw3gt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="90" x="1617.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="76" x="1624.5" y="22.9951">Floor Entity</text><rect fill="#FEFECE" filter="url(#f7tjda5zw3gt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="90" x="1617.5" y="695.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="76" x="1624.5" y="715.9482">Floor Entity</text><rect fill="#FEFECE" filter="url(#f7tjda5zw3gt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="133" x="1867.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119" x="1874.5" y="22.9951">IFloorPersistence</text><rect fill="#FEFECE" filter="url(#f7tjda5zw3gt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="133" x="1867.5" y="695.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119" x="1874.5" y="715.9482">IFloorPersistence</text><rect fill="#FEFECE" filter="url(#f7tjda5zw3gt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="130" x="2014.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="2021.5" y="22.9951">FloorPersistence</text><rect fill="#FEFECE" filter="url(#f7tjda5zw3gt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="130" x="2014.5" y="695.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="2021.5" y="715.9482">FloorPersistence</text><rect fill="#FEFECE" filter="url(#f7tjda5zw3gt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="2158.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="2165.5" y="22.9951">FloorSchema</text><rect fill="#FEFECE" filter="url(#f7tjda5zw3gt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="2158.5" y="695.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="2165.5" y="715.9482">FloorSchema</text><rect fill="#FEFECE" filter="url(#f7tjda5zw3gt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="2276.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="2283.5" y="22.9951">BuildingMap</text><rect fill="#FEFECE" filter="url(#f7tjda5zw3gt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="2276.5" y="695.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="2283.5" y="715.9482">BuildingMap</text><rect fill="#FEFECE" filter="url(#f7tjda5zw3gt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="81" x="2388.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="2395.5" y="22.9951">ConfigFile</text><rect fill="#FEFECE" filter="url(#f7tjda5zw3gt)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="81" x="2388.5" y="695.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="2395.5" y="715.9482">ConfigFile</text><rect fill="#FFFFFF" filter="url(#f7tjda5zw3gt)" height="609.5234" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="373" y="69.4297"/><rect fill="#FFFFFF" filter="url(#f7tjda5zw3gt)" height="551.2578" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="723" y="98.5625"/><rect fill="#FFFFFF" filter="url(#f7tjda5zw3gt)" height="449.8594" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="949" y="170.8281"/><rect fill="#FFFFFF" filter="url(#f7tjda5zw3gt)" height="391.5938" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1152" y="199.9609"/><rect fill="#FFFFFF" filter="url(#f7tjda5zw3gt)" height="216.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1355" y="229.0938"/><rect fill="#FFFFFF" filter="url(#f7tjda5zw3gt)" height="158.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1558" y="258.2266"/><rect fill="#FFFFFF" filter="url(#f7tjda5zw3gt)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1659.5" y="475.0234"/><rect fill="#FFFFFF" filter="url(#f7tjda5zw3gt)" height="42" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1931" y="287.3594"/><rect fill="#FFFFFF" filter="url(#f7tjda5zw3gt)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2076.5" y="301.3594"/><rect fill="#FFFFFF" filter="url(#f7tjda5zw3gt)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2207.5" y="358.4922"/><rect fill="#FFFFFF" filter="url(#f7tjda5zw3gt)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2322.5" y="533.2891"/><rect fill="#FFFFFF" filter="url(#f7tjda5zw3gt)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2426" y="127.6953"/><polygon fill="#A80036" points="361,65.4297,371,69.4297,361,73.4297,365,69.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="33" x2="367" y1="69.4297" y2="69.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="312" x="40" y="64.3638">send request to listFloorsByBuildingID(buildingID)</text><polygon fill="#A80036" points="711,94.5625,721,98.5625,711,102.5625,715,98.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="383" x2="717" y1="98.5625" y2="98.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="207" x="390" y="93.4966">listFloorsByBuildingID(buildingID)</text><polygon fill="#A80036" points="2414,123.6953,2424,127.6953,2414,131.6953,2418,127.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="733" x2="2420" y1="127.6953" y2="127.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="740" y="122.6294">Injects Service</text><polygon fill="#A80036" points="744,137.6953,734,141.6953,744,145.6953,740,141.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="738" x2="2430" y1="141.6953" y2="141.6953"/><polygon fill="#A80036" points="937,166.8281,947,170.8281,937,174.8281,941,170.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="733" x2="943" y1="170.8281" y2="170.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="740" y="165.7622">getFloorsByBuilding(buildingID)</text><polygon fill="#A80036" points="1140,195.9609,1150,199.9609,1140,203.9609,1144,199.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="959" x2="1146" y1="199.9609" y2="199.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="966" y="194.895">findByBuildingID(buildingID)</text><polygon fill="#A80036" points="1343,225.0938,1353,229.0938,1343,233.0938,1347,229.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1162" x2="1349" y1="229.0938" y2="229.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="1169" y="224.0278">findByBuildingID(buildingID)</text><polygon fill="#A80036" points="1546,254.2266,1556,258.2266,1546,262.2266,1550,258.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1365" x2="1552" y1="258.2266" y2="258.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="1372" y="253.1606">findByBuildingID(buildingID)</text><polygon fill="#A80036" points="1919,283.3594,1929,287.3594,1919,291.3594,1923,287.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1568" x2="1925" y1="287.3594" y2="287.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="344" x="1575" y="282.2935">query as FilterQuery&lt;IFloorPersistence &amp; Document&gt;</text><polygon fill="#A80036" points="2064.5,297.3594,2074.5,301.3594,2064.5,305.3594,2068.5,301.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1941" x2="2070.5" y1="301.3594" y2="301.3594"/><polygon fill="#A80036" points="1952,311.3594,1942,315.3594,1952,319.3594,1948,315.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1946" x2="2080.5" y1="315.3594" y2="315.3594"/><polygon fill="#A80036" points="1579,325.3594,1569,329.3594,1579,333.3594,1575,329.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1573" x2="1935" y1="329.3594" y2="329.3594"/><polygon fill="#A80036" points="2195.5,354.4922,2205.5,358.4922,2195.5,362.4922,2199.5,358.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1568" x2="2201.5" y1="358.4922" y2="358.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="1575" y="353.4263">findOne(query)</text><polygon fill="#A80036" points="1579,383.625,1569,387.625,1579,391.625,1575,387.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1573" x2="2211.5" y1="387.625" y2="387.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="1585" y="382.5591">return floor entity</text><polygon fill="#A80036" points="1376,412.7578,1366,416.7578,1376,420.7578,1372,416.7578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1370" x2="1562" y1="416.7578" y2="416.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="1382" y="411.6919">return floor entity</text><polygon fill="#A80036" points="1173,441.8906,1163,445.8906,1173,449.8906,1169,445.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1167" x2="1359" y1="445.8906" y2="445.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="1179" y="440.8247">floor entities</text><polygon fill="#A80036" points="1647.5,471.0234,1657.5,475.0234,1647.5,479.0234,1651.5,475.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1162" x2="1653.5" y1="475.0234" y2="475.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="228" x="1169" y="469.9575">floors: Floor[] = floorsWithBuildingID</text><polygon fill="#A80036" points="1173,500.1563,1163,504.1563,1173,508.1563,1169,504.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1167" x2="1663.5" y1="504.1563" y2="504.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="1179" y="499.0903">returns floorsWithBuildingID</text><polygon fill="#A80036" points="2310.5,529.2891,2320.5,533.2891,2310.5,537.2891,2314.5,533.2891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1162" x2="2316.5" y1="533.2891" y2="533.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="376" x="1169" y="528.2231">floorsDTO = floors.map(floor =&gt; BuildingMap.toDTO(floor))</text><polygon fill="#A80036" points="1173,558.4219,1163,562.4219,1173,566.4219,1169,562.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1167" x2="2326.5" y1="562.4219" y2="562.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="1179" y="557.356">returns floorDTO</text><polygon fill="#A80036" points="970,587.5547,960,591.5547,970,595.5547,966,591.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="964" x2="1156" y1="591.5547" y2="591.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="976" y="586.4888">return floorsDTO</text><polygon fill="#A80036" points="744,616.6875,734,620.6875,744,624.6875,740,620.6875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="738" x2="953" y1="620.6875" y2="620.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="750" y="615.6216">Return floorsDTO</text><polygon fill="#A80036" points="394,645.8203,384,649.8203,394,653.8203,390,649.8203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="388" x2="727" y1="649.8203" y2="649.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="316" x="400" y="644.7544">Send response with status 200 and the floorsDTO</text><polygon fill="#A80036" points="44,674.9531,34,678.9531,44,682.9531,40,678.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="38" x2="377" y1="678.9531" y2="678.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="316" x="50" y="673.8872">Send response with status 200 and the floorsDTO</text><!--MD5=[d458b47d67d1acf52cac3c3585681e69]
@startuml sd

participant "User" as A
participant "IFloorController" as IF
participant "FloorController" as F
participant "IFloorService" as IG
participant "FloorService" as G
participant "IFloorRepo" as IH
participant "FloorRepo" as H
participant "Floor Entity" as FE
participant "ConfigFile" as CONF
participant "IFloorPersistence" as IJ
participant "FloorPersistence" as J
participant "FloorSchema" as K
participant "BuildingMap" as BM
participant "ConfigFile" as CONF

A -> IF: send request to listFloorsByBuildingID(buildingID)
activate IF

IF -> F: listFloorsByBuildingID(buildingID)
activate F
F -> CONF: Injects Service
activate CONF
CONF -> F
deactivate CONF
F -> IG: getFloorsByBuilding(buildingID)
activate IG

IG -> G: findByBuildingID(buildingID)
activate G

G -> IH: findByBuildingID(buildingID)
activate IH

IH -> H: findByBuildingID(buildingID)
activate H

H -> IJ: query as FilterQuery<IFloorPersistence & Document>
activate IJ

IJ -> J: 
activate J

J -> IJ:
deactivate J

IJ -> H:
deactivate IJ

H -> K: findOne(query)
activate K

K - -> H: return floor entity
deactivate K

H - -> IH: return floor entity
deactivate H

IH - -> G: floor entities
deactivate IH
G - -> FE: floors: Floor[] = floorsWithBuildingID
activate FE
FE - -> G: returns floorsWithBuildingID
deactivate FE
G - -> BM: floorsDTO = floors.map(floor => BuildingMap.toDTO(floor))
activate BM
BM - -> G: returns floorDTO
deactivate BM
G - -> IG: return floorsDTO
deactivate G

IG - -> F: Return floorsDTO
deactivate IG

F -> IF: Send response with status 200 and the floorsDTO
deactivate F

IF -> A: Send response with status 200 and the floorsDTO
deactivate IF

@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.21+9
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>