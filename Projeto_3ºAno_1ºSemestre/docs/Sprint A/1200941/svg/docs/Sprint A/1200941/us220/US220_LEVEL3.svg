<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="737px" preserveAspectRatio="none" style="width:3121px;height:737px;" version="1.1" viewBox="0 0 3121 737" width="3121px" zoomAndPan="magnify"><defs><filter height="300%" id="fffcm92cyf470" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fffcm92cyf470)" height="609.5234" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="461" y="69.4297"/><rect fill="#FFFFFF" filter="url(#fffcm92cyf470)" height="551.2578" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="899" y="98.5625"/><rect fill="#FFFFFF" filter="url(#fffcm92cyf470)" height="449.8594" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1285" y="170.8281"/><rect fill="#FFFFFF" filter="url(#fffcm92cyf470)" height="391.5938" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1512" y="199.9609"/><rect fill="#FFFFFF" filter="url(#fffcm92cyf470)" height="216.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1715" y="229.0938"/><rect fill="#FFFFFF" filter="url(#fffcm92cyf470)" height="158.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1918" y="258.2266"/><rect fill="#FFFFFF" filter="url(#fffcm92cyf470)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2268" y="475.0234"/><rect fill="#FFFFFF" filter="url(#fffcm92cyf470)" height="42" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2540.5" y="287.3594"/><rect fill="#FFFFFF" filter="url(#fffcm92cyf470)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2707" y="301.3594"/><rect fill="#FFFFFF" filter="url(#fffcm92cyf470)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2859" y="358.4922"/><rect fill="#FFFFFF" filter="url(#fffcm92cyf470)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2974" y="533.2891"/><rect fill="#FFFFFF" filter="url(#fffcm92cyf470)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="3067" y="127.6953"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="33" x2="33" y1="38.2969" y2="696.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="465.5" x2="465.5" y1="38.2969" y2="696.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="904" x2="904" y1="38.2969" y2="696.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1290" x2="1290" y1="38.2969" y2="696.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1516.5" x2="1516.5" y1="38.2969" y2="696.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1719.5" x2="1719.5" y1="38.2969" y2="696.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1923" x2="1923" y1="38.2969" y2="696.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2272.5" x2="2272.5" y1="38.2969" y2="696.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2545.5" x2="2545.5" y1="38.2969" y2="696.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2711.5" x2="2711.5" y1="38.2969" y2="696.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2863.5" x2="2863.5" y1="38.2969" y2="696.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2978.5" x2="2978.5" y1="38.2969" y2="696.9531"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="3071.5" x2="3071.5" y1="38.2969" y2="696.9531"/><rect fill="#FEFECE" filter="url(#fffcm92cyf470)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="46" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="15" y="22.9951">User</text><rect fill="#FEFECE" filter="url(#fffcm92cyf470)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="46" x="8" y="695.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="15" y="715.9482">User</text><rect fill="#FEFECE" filter="url(#fffcm92cyf470)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="139" x="394.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="125" x="401.5" y="22.9951">IBuildingController</text><rect fill="#FEFECE" filter="url(#fffcm92cyf470)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="139" x="394.5" y="695.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="125" x="401.5" y="715.9482">IBuildingController</text><rect fill="#FEFECE" filter="url(#fffcm92cyf470)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="136" x="834" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="841" y="22.9951">BuildingController</text><rect fill="#FEFECE" filter="url(#fffcm92cyf470)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="136" x="834" y="695.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="122" x="841" y="715.9482">BuildingController</text><rect fill="#FEFECE" filter="url(#fffcm92cyf470)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="130" x="1223" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="1230" y="22.9951">IBuildingsService</text><rect fill="#FEFECE" filter="url(#fffcm92cyf470)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="130" x="1223" y="695.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="1230" y="715.9482">IBuildingsService</text><rect fill="#FEFECE" filter="url(#fffcm92cyf470)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="1451.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="1458.5" y="22.9951">BuildingsService</text><rect fill="#FEFECE" filter="url(#fffcm92cyf470)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="1451.5" y="695.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="1458.5" y="715.9482">BuildingsService</text><rect fill="#FEFECE" filter="url(#fffcm92cyf470)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="117" x="1659.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="103" x="1666.5" y="22.9951">IBuildingsRepo</text><rect fill="#FEFECE" filter="url(#fffcm92cyf470)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="117" x="1659.5" y="695.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="103" x="1666.5" y="715.9482">IBuildingsRepo</text><rect fill="#FEFECE" filter="url(#fffcm92cyf470)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="114" x="1864" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="100" x="1871" y="22.9951">BuildingsRepo</text><rect fill="#FEFECE" filter="url(#fffcm92cyf470)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="114" x="1864" y="695.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="100" x="1871" y="715.9482">BuildingsRepo</text><rect fill="#FEFECE" filter="url(#fffcm92cyf470)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="2215.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="2222.5" y="22.9951">Building Entity</text><rect fill="#FEFECE" filter="url(#fffcm92cyf470)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="2215.5" y="695.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="2222.5" y="715.9482">Building Entity</text><rect fill="#FEFECE" filter="url(#fffcm92cyf470)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="154" x="2466.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="140" x="2473.5" y="22.9951">IBuildingPersistence</text><rect fill="#FEFECE" filter="url(#fffcm92cyf470)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="154" x="2466.5" y="695.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="140" x="2473.5" y="715.9482">IBuildingPersistence</text><rect fill="#FEFECE" filter="url(#fffcm92cyf470)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="151" x="2634.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="137" x="2641.5" y="22.9951">BuildingPersistence</text><rect fill="#FEFECE" filter="url(#fffcm92cyf470)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="151" x="2634.5" y="695.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="137" x="2641.5" y="715.9482">BuildingPersistence</text><rect fill="#FEFECE" filter="url(#fffcm92cyf470)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="2799.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="2806.5" y="22.9951">BuildingSchema</text><rect fill="#FEFECE" filter="url(#fffcm92cyf470)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="2799.5" y="695.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="2806.5" y="715.9482">BuildingSchema</text><rect fill="#FEFECE" filter="url(#fffcm92cyf470)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="2938.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="2945.5" y="22.9951">FloorMap</text><rect fill="#FEFECE" filter="url(#fffcm92cyf470)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="2938.5" y="695.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="2945.5" y="715.9482">FloorMap</text><rect fill="#FEFECE" filter="url(#fffcm92cyf470)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="81" x="3029.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="3036.5" y="22.9951">ConfigFile</text><rect fill="#FEFECE" filter="url(#fffcm92cyf470)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="81" x="3029.5" y="695.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="3036.5" y="715.9482">ConfigFile</text><rect fill="#FFFFFF" filter="url(#fffcm92cyf470)" height="609.5234" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="461" y="69.4297"/><rect fill="#FFFFFF" filter="url(#fffcm92cyf470)" height="551.2578" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="899" y="98.5625"/><rect fill="#FFFFFF" filter="url(#fffcm92cyf470)" height="449.8594" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1285" y="170.8281"/><rect fill="#FFFFFF" filter="url(#fffcm92cyf470)" height="391.5938" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1512" y="199.9609"/><rect fill="#FFFFFF" filter="url(#fffcm92cyf470)" height="216.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1715" y="229.0938"/><rect fill="#FFFFFF" filter="url(#fffcm92cyf470)" height="158.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1918" y="258.2266"/><rect fill="#FFFFFF" filter="url(#fffcm92cyf470)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2268" y="475.0234"/><rect fill="#FFFFFF" filter="url(#fffcm92cyf470)" height="42" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2540.5" y="287.3594"/><rect fill="#FFFFFF" filter="url(#fffcm92cyf470)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2707" y="301.3594"/><rect fill="#FFFFFF" filter="url(#fffcm92cyf470)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2859" y="358.4922"/><rect fill="#FFFFFF" filter="url(#fffcm92cyf470)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2974" y="533.2891"/><rect fill="#FFFFFF" filter="url(#fffcm92cyf470)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="3067" y="127.6953"/><polygon fill="#A80036" points="449,65.4297,459,69.4297,449,73.4297,453,69.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="33" x2="455" y1="69.4297" y2="69.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="357" x="40" y="64.3638">ListBuildingFloorWithPassageToOtherBuilding(buildingID)</text><polygon fill="#A80036" points="887,94.5625,897,98.5625,887,102.5625,891,98.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="471" x2="893" y1="98.5625" y2="98.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="357" x="478" y="93.4966">ListBuildingFloorWithPassageToOtherBuilding(buildingID)</text><polygon fill="#A80036" points="3055,123.6953,3065,127.6953,3055,131.6953,3059,127.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="909" x2="3061" y1="127.6953" y2="127.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="916" y="122.6294">Injects Service</text><polygon fill="#A80036" points="920,137.6953,910,141.6953,920,145.6953,916,141.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="914" x2="3071" y1="141.6953" y2="141.6953"/><polygon fill="#A80036" points="1273,166.8281,1283,170.8281,1273,174.8281,1277,170.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="909" x2="1279" y1="170.8281" y2="170.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="357" x="916" y="165.7622">ListBuildingFloorWithPassageToOtherBuilding(buildingID)</text><polygon fill="#A80036" points="1500,195.9609,1510,199.9609,1500,203.9609,1504,199.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1295" x2="1506" y1="199.9609" y2="199.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="1302" y="194.895">findByDomainID(buildingID)</text><polygon fill="#A80036" points="1703,225.0938,1713,229.0938,1703,233.0938,1707,229.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1522" x2="1709" y1="229.0938" y2="229.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="1529" y="224.0278">findByDomainID(buildingID)</text><polygon fill="#A80036" points="1906,254.2266,1916,258.2266,1906,262.2266,1910,258.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1725" x2="1912" y1="258.2266" y2="258.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="1732" y="253.1606">findByDomainID(buildingID)</text><polygon fill="#A80036" points="2528.5,283.3594,2538.5,287.3594,2528.5,291.3594,2532.5,287.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1928" x2="2534.5" y1="287.3594" y2="287.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="370" x="1935" y="282.2935">query as FilterQuery&lt;IBuildingsPersistence &amp; Document&gt;</text><polygon fill="#A80036" points="2695,297.3594,2705,301.3594,2695,305.3594,2699,301.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2550.5" x2="2701" y1="301.3594" y2="301.3594"/><polygon fill="#A80036" points="2561.5,311.3594,2551.5,315.3594,2561.5,319.3594,2557.5,315.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2555.5" x2="2711" y1="315.3594" y2="315.3594"/><polygon fill="#A80036" points="1939,325.3594,1929,329.3594,1939,333.3594,1935,329.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1933" x2="2544.5" y1="329.3594" y2="329.3594"/><polygon fill="#A80036" points="2847,354.4922,2857,358.4922,2847,362.4922,2851,358.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1928" x2="2853" y1="358.4922" y2="358.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="1935" y="353.4263">findOne(query)</text><polygon fill="#A80036" points="1939,383.625,1929,387.625,1939,391.625,1935,387.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1933" x2="2863" y1="387.625" y2="387.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="1945" y="382.5591">return building entity</text><polygon fill="#A80036" points="1736,412.7578,1726,416.7578,1736,420.7578,1732,416.7578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1730" x2="1922" y1="416.7578" y2="416.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="1742" y="411.6919">return building entity</text><polygon fill="#A80036" points="1533,441.8906,1523,445.8906,1533,449.8906,1529,445.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1527" x2="1719" y1="445.8906" y2="445.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="1539" y="440.8247">building entity</text><polygon fill="#A80036" points="2256,471.0234,2266,475.0234,2256,479.0234,2260,475.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1522" x2="2262" y1="475.0234" y2="475.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="727" x="1529" y="469.9575">floorsWithPassages: Floor[] = building.floorOnBuilding.filter(floor =&gt; floor.passages &amp;&amp; floor.passages.length &gt; 0)</text><polygon fill="#A80036" points="1533,500.1563,1523,504.1563,1533,508.1563,1529,504.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1527" x2="2272" y1="504.1563" y2="504.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="173" x="1539" y="499.0903">returns floorsWithPassages</text><polygon fill="#A80036" points="2962,529.2891,2972,533.2891,2962,537.2891,2966,533.2891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1522" x2="2968" y1="533.2891" y2="533.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="533" x="1529" y="528.2231">floorsWithPassagesDTO = floorsWithPassages.map(floor =&gt; FloorMap.toDTO(floor))</text><polygon fill="#A80036" points="1533,558.4219,1523,562.4219,1533,566.4219,1529,562.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1527" x2="2978" y1="562.4219" y2="562.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="1539" y="557.356">returns floorsWithPassagesDTO</text><polygon fill="#A80036" points="1306,587.5547,1296,591.5547,1306,595.5547,1302,591.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1300" x2="1516" y1="591.5547" y2="591.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="1312" y="586.4888">return floorsWithPassagesDTO</text><polygon fill="#A80036" points="920,616.6875,910,620.6875,920,624.6875,916,620.6875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="914" x2="1289" y1="620.6875" y2="620.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="196" x="926" y="615.6216">Return floorsWithPassagesDTO</text><polygon fill="#A80036" points="482,645.8203,472,649.8203,482,653.8203,478,649.8203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="476" x2="903" y1="649.8203" y2="649.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="404" x="488" y="644.7544">Send response with status 200 and the floorsWithPassagesDTO</text><polygon fill="#A80036" points="44,674.9531,34,678.9531,44,682.9531,40,678.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="38" x2="465" y1="678.9531" y2="678.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="404" x="50" y="673.8872">Send response with status 200 and the floorsWithPassagesDTO</text><!--MD5=[e5cfe5dc641e9a0e90c1cc347df03db0]
@startuml US220_LEVEL3

participant "User" as A
participant "IBuildingController" as IB
participant "BuildingController" as B
participant "IBuildingsService" as IC
participant "BuildingsService" as C
participant "IBuildingsRepo" as ID
participant "BuildingsRepo" as D
participant "Building Entity" as E
participant "ConfigFile" as CONF
participant "IBuildingPersistence" as IH
participant "BuildingPersistence" as H
participant "BuildingSchema" as I
participant "FloorMap" as FM
participant "ConfigFile" as CONF


A -> IB: ListBuildingFloorWithPassageToOtherBuilding(buildingID)
activate IB

IB -> B: ListBuildingFloorWithPassageToOtherBuilding(buildingID)
activate B
B -> CONF: Injects Service
activate CONF
CONF -> B
deactivate CONF
B -> IC: ListBuildingFloorWithPassageToOtherBuilding(buildingID)
activate IC

IC -> C: findByDomainID(buildingID)
activate C

C -> ID: findByDomainID(buildingID)
activate ID

ID -> D: findByDomainID(buildingID)
activate D

D -> IH: query as FilterQuery<IBuildingsPersistence & Document>
activate IH

IH -> H: 
activate H

H -> IH:
deactivate H

IH -> D:
deactivate IH

D -> I: findOne(query)
activate I

I - -> D: return building entity
deactivate I

D - -> ID: return building entity
deactivate D

ID - -> C: building entity
deactivate ID

C - -> E: floorsWithPassages: Floor[] = building.floorOnBuilding.filter(floor => floor.passages && floor.passages.length > 0)
activate E

E - -> C: returns floorsWithPassages
deactivate E

C - -> FM: floorsWithPassagesDTO = floorsWithPassages.map(floor => FloorMap.toDTO(floor))
activate FM

FM - -> C: returns floorsWithPassagesDTO
deactivate FM

C - -> IC: return floorsWithPassagesDTO
deactivate C

IC - -> B: Return floorsWithPassagesDTO
deactivate IC

B -> IB: Send response with status 200 and the floorsWithPassagesDTO
deactivate B

IB -> A: Send response with status 200 and the floorsWithPassagesDTO
deactivate IB

@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.21+9
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>