<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1028px" preserveAspectRatio="none" style="width:3174px;height:1028px;" version="1.1" viewBox="0 0 3174 1028" width="3174px" zoomAndPan="magnify"><defs><filter height="300%" id="f4dc5txooa3xc" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f4dc5txooa3xc)" height="735.0547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1162" y="244.2266"/><rect fill="#FFFFFF" filter="url(#f4dc5txooa3xc)" height="705.9219" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1512" y="273.3594"/><rect fill="#FFFFFF" filter="url(#f4dc5txooa3xc)" height="449.8594" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1738" y="345.625"/><rect fill="#FFFFFF" filter="url(#f4dc5txooa3xc)" height="391.5938" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1941" y="374.7578"/><rect fill="#FFFFFF" filter="url(#f4dc5txooa3xc)" height="216.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2144" y="403.8906"/><rect fill="#FFFFFF" filter="url(#f4dc5txooa3xc)" height="158.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2347" y="433.0234"/><rect fill="#FFFFFF" filter="url(#f4dc5txooa3xc)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2448.5" y="649.8203"/><rect fill="#FFFFFF" filter="url(#f4dc5txooa3xc)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2548" y="302.4922"/><rect fill="#FFFFFF" filter="url(#f4dc5txooa3xc)" height="42" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2720" y="462.1563"/><rect fill="#FFFFFF" filter="url(#f4dc5txooa3xc)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2865.5" y="476.1563"/><rect fill="#FFFFFF" filter="url(#f4dc5txooa3xc)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2996.5" y="533.2891"/><rect fill="#FFFFFF" filter="url(#f4dc5txooa3xc)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="3111.5" y="708.0859"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="33" x2="33" y1="38.2969" y2="988.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="269.5" x2="269.5" y1="38.2969" y2="988.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="496.5" x2="496.5" y1="38.2969" y2="988.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="720.5" x2="720.5" y1="38.2969" y2="988.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="963.5" x2="963.5" y1="38.2969" y2="988.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1167" x2="1167" y1="38.2969" y2="988.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1516.5" x2="1516.5" y1="38.2969" y2="988.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1742.5" x2="1742.5" y1="38.2969" y2="988.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1946" x2="1946" y1="38.2969" y2="988.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2149" x2="2149" y1="38.2969" y2="988.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2351.5" x2="2351.5" y1="38.2969" y2="988.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2453.5" x2="2453.5" y1="38.2969" y2="988.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2552.5" x2="2552.5" y1="38.2969" y2="988.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2724.5" x2="2724.5" y1="38.2969" y2="988.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2870.5" x2="2870.5" y1="38.2969" y2="988.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="3001.5" x2="3001.5" y1="38.2969" y2="988.2813"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="3116.5" x2="3116.5" y1="38.2969" y2="988.2813"/><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="46" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="15" y="22.9951">User</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="46" x="8" y="987.2813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="15" y="1007.2764">User</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="51" x="242.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="249.5" y="22.9951">:View</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="51" x="242.5" y="987.2813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="249.5" y="1007.2764">:View</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="432.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="439.5" y="22.9951">:FE_Component</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="432.5" y="987.2813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="439.5" y="1007.2764">:FE_Component</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="93" x="672.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="679.5" y="22.9951">:FE_Service</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="93" x="672.5" y="987.2813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="679.5" y="1007.2764">:FE_Service</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="73" x="925.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="932.5" y="22.9951">:Routing</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="73" x="925.5" y="987.2813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="932.5" y="1007.2764">:Routing</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="1106" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="1113" y="22.9951">IFloorController</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="1106" y="987.2813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="1113" y="1007.2764">IFloorController</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="115" x="1457.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="101" x="1464.5" y="22.9951">FloorController</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="115" x="1457.5" y="987.2813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="101" x="1464.5" y="1007.2764">FloorController</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="101" x="1690.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="1697.5" y="22.9951">IFloorService</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="101" x="1690.5" y="987.2813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="1697.5" y="1007.2764">IFloorService</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="1895" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="1902" y="22.9951">FloorService</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="1895" y="987.2813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="1902" y="1007.2764">FloorService</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="2103" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="2110" y="22.9951">IFloorRepo</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="2103" y="987.2813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="2110" y="1007.2764">IFloorRepo</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="2307.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="2314.5" y="22.9951">FloorRepo</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="2307.5" y="987.2813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="2314.5" y="1007.2764">FloorRepo</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="90" x="2406.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="76" x="2413.5" y="22.9951">Floor Entity</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="90" x="2406.5" y="987.2813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="76" x="2413.5" y="1007.2764">Floor Entity</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="81" x="2510.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="2517.5" y="22.9951">ConfigFile</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="81" x="2510.5" y="987.2813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="2517.5" y="1007.2764">ConfigFile</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="133" x="2656.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119" x="2663.5" y="22.9951">IFloorPersistence</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="133" x="2656.5" y="987.2813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119" x="2663.5" y="1007.2764">IFloorPersistence</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="130" x="2803.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="2810.5" y="22.9951">FloorPersistence</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="130" x="2803.5" y="987.2813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="2810.5" y="1007.2764">FloorPersistence</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="2947.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="2954.5" y="22.9951">FloorSchema</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="2947.5" y="987.2813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="2954.5" y="1007.2764">FloorSchema</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="3065.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="3072.5" y="22.9951">BuildingMap</text><rect fill="#FEFECE" filter="url(#f4dc5txooa3xc)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="3065.5" y="987.2813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="3072.5" y="1007.2764">BuildingMap</text><rect fill="#FFFFFF" filter="url(#f4dc5txooa3xc)" height="735.0547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1162" y="244.2266"/><rect fill="#FFFFFF" filter="url(#f4dc5txooa3xc)" height="705.9219" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1512" y="273.3594"/><rect fill="#FFFFFF" filter="url(#f4dc5txooa3xc)" height="449.8594" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1738" y="345.625"/><rect fill="#FFFFFF" filter="url(#f4dc5txooa3xc)" height="391.5938" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1941" y="374.7578"/><rect fill="#FFFFFF" filter="url(#f4dc5txooa3xc)" height="216.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2144" y="403.8906"/><rect fill="#FFFFFF" filter="url(#f4dc5txooa3xc)" height="158.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2347" y="433.0234"/><rect fill="#FFFFFF" filter="url(#f4dc5txooa3xc)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2448.5" y="649.8203"/><rect fill="#FFFFFF" filter="url(#f4dc5txooa3xc)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2548" y="302.4922"/><rect fill="#FFFFFF" filter="url(#f4dc5txooa3xc)" height="42" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2720" y="462.1563"/><rect fill="#FFFFFF" filter="url(#f4dc5txooa3xc)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2865.5" y="476.1563"/><rect fill="#FFFFFF" filter="url(#f4dc5txooa3xc)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2996.5" y="533.2891"/><rect fill="#FFFFFF" filter="url(#f4dc5txooa3xc)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="3111.5" y="708.0859"/><polygon fill="#A80036" points="258,65.4297,268,69.4297,258,73.4297,262,69.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="33" x2="264" y1="69.4297" y2="69.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="40" y="64.3638">Accesses web interface</text><polygon fill="#A80036" points="485,94.5625,495,98.5625,485,102.5625,489,98.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="491" y1="98.5625" y2="98.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="203" x="277" y="93.4966">Display form to input building ID</text><polygon fill="#A80036" points="281,123.6953,271,127.6953,281,131.6953,277,127.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="275" x2="496" y1="127.6953" y2="127.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="139" x="287" y="122.6294">User inputs buildingID</text><polygon fill="#A80036" points="709,152.8281,719,156.8281,709,160.8281,713,156.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="270" x2="715" y1="156.8281" y2="156.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="277" y="151.7622">Submit building ID</text><polygon fill="#A80036" points="952,181.9609,962,185.9609,952,189.9609,956,185.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="721" x2="958" y1="185.9609" y2="185.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="219" x="728" y="180.895">Request to list floors by building ID</text><polygon fill="#A80036" points="1155,211.0938,1165,215.0938,1155,219.0938,1159,215.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="964" x2="1161" y1="215.0938" y2="215.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="971" y="210.0278">Forward request (buildingID)</text><polygon fill="#A80036" points="1150,240.2266,1160,244.2266,1150,248.2266,1154,244.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="33" x2="1156" y1="244.2266" y2="244.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="312" x="40" y="239.1606">send request to listFloorsByBuildingID(buildingID)</text><polygon fill="#A80036" points="1500,269.3594,1510,273.3594,1500,277.3594,1504,273.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1172" x2="1506" y1="273.3594" y2="273.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="207" x="1179" y="268.2935">listFloorsByBuildingID(buildingID)</text><polygon fill="#A80036" points="2536,298.4922,2546,302.4922,2536,306.4922,2540,302.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1522" x2="2542" y1="302.4922" y2="302.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="1529" y="297.4263">Injects Service</text><polygon fill="#A80036" points="1533,312.4922,1523,316.4922,1533,320.4922,1529,316.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1527" x2="2552" y1="316.4922" y2="316.4922"/><polygon fill="#A80036" points="1726,341.625,1736,345.625,1726,349.625,1730,345.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1522" x2="1732" y1="345.625" y2="345.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="1529" y="340.5591">getFloorsByBuilding(buildingID)</text><polygon fill="#A80036" points="1929,370.7578,1939,374.7578,1929,378.7578,1933,374.7578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1748" x2="1935" y1="374.7578" y2="374.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="1755" y="369.6919">findByBuildingID(buildingID)</text><polygon fill="#A80036" points="2132,399.8906,2142,403.8906,2132,407.8906,2136,403.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1951" x2="2138" y1="403.8906" y2="403.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="1958" y="398.8247">findByBuildingID(buildingID)</text><polygon fill="#A80036" points="2335,429.0234,2345,433.0234,2335,437.0234,2339,433.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2154" x2="2341" y1="433.0234" y2="433.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="174" x="2161" y="427.9575">findByBuildingID(buildingID)</text><polygon fill="#A80036" points="2708,458.1563,2718,462.1563,2708,466.1563,2712,462.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2357" x2="2714" y1="462.1563" y2="462.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="344" x="2364" y="457.0903">query as FilterQuery&lt;IFloorPersistence &amp; Document&gt;</text><polygon fill="#A80036" points="2853.5,472.1563,2863.5,476.1563,2853.5,480.1563,2857.5,476.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2730" x2="2859.5" y1="476.1563" y2="476.1563"/><polygon fill="#A80036" points="2741,486.1563,2731,490.1563,2741,494.1563,2737,490.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2735" x2="2869.5" y1="490.1563" y2="490.1563"/><polygon fill="#A80036" points="2368,500.1563,2358,504.1563,2368,508.1563,2364,504.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2362" x2="2724" y1="504.1563" y2="504.1563"/><polygon fill="#A80036" points="2984.5,529.2891,2994.5,533.2891,2984.5,537.2891,2988.5,533.2891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2357" x2="2990.5" y1="533.2891" y2="533.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="2364" y="528.2231">findOne(query)</text><polygon fill="#A80036" points="2368,558.4219,2358,562.4219,2368,566.4219,2364,562.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="2362" x2="3000.5" y1="562.4219" y2="562.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="2374" y="557.356">return floor entity</text><polygon fill="#A80036" points="2165,587.5547,2155,591.5547,2165,595.5547,2161,591.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="2159" x2="2351" y1="591.5547" y2="591.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="2171" y="586.4888">return floor entity</text><polygon fill="#A80036" points="1962,616.6875,1952,620.6875,1962,624.6875,1958,620.6875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1956" x2="2148" y1="620.6875" y2="620.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="1968" y="615.6216">floor entities</text><polygon fill="#A80036" points="2436.5,645.8203,2446.5,649.8203,2436.5,653.8203,2440.5,649.8203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1951" x2="2442.5" y1="649.8203" y2="649.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="228" x="1958" y="644.7544">floors: Floor[] = floorsWithBuildingID</text><polygon fill="#A80036" points="1962,674.9531,1952,678.9531,1962,682.9531,1958,678.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1956" x2="2452.5" y1="678.9531" y2="678.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="1968" y="673.8872">returns floorsWithBuildingID</text><polygon fill="#A80036" points="3099.5,704.0859,3109.5,708.0859,3099.5,712.0859,3103.5,708.0859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1951" x2="3105.5" y1="708.0859" y2="708.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="357" x="1958" y="703.02">floorsDTO = floors.map(floor =&gt; FloorMap.toDTO(floor))</text><polygon fill="#A80036" points="1962,733.2188,1952,737.2188,1962,741.2188,1958,737.2188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1956" x2="3115.5" y1="737.2188" y2="737.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="1968" y="732.1528">returns floorDTO</text><polygon fill="#A80036" points="1759,762.3516,1749,766.3516,1759,770.3516,1755,766.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1753" x2="1945" y1="766.3516" y2="766.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="105" x="1765" y="761.2856">return floorsDTO</text><polygon fill="#A80036" points="1533,791.4844,1523,795.4844,1533,799.4844,1529,795.4844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1527" x2="1742" y1="795.4844" y2="795.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="1539" y="790.4185">Return floorsDTO</text><polygon fill="#A80036" points="1183,820.6172,1173,824.6172,1183,828.6172,1179,824.6172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1177" x2="1511" y1="824.6172" y2="824.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="316" x="1189" y="819.5513">Send response with status 200 and the floorsDTO</text><polygon fill="#A80036" points="975,849.75,965,853.75,975,857.75,971,853.75" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="969" x2="1161" y1="853.75" y2="853.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="981" y="848.6841">Forward response</text><polygon fill="#A80036" points="732,878.8828,722,882.8828,732,886.8828,728,882.8828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="726" x2="963" y1="882.8828" y2="882.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="738" y="877.8169">Forward response</text><polygon fill="#A80036" points="508,908.0156,498,912.0156,508,916.0156,504,912.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="502" x2="720" y1="912.0156" y2="912.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="514" y="906.9497">Display result (list of floorDTOs)</text><polygon fill="#A80036" points="281,937.1484,271,941.1484,281,945.1484,277,941.1484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="275" x2="496" y1="941.1484" y2="941.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="287" y="936.0825">Update view to show floors</text><polygon fill="#A80036" points="44,966.2813,34,970.2813,44,974.2813,40,970.2813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="38" x2="269" y1="970.2813" y2="970.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="213" x="50" y="965.2153">Show floors by building ID to User</text><!--MD5=[92cdb64c95b2c5c9bfd2ffc8a2b8f741]
@startuml sd

participant "User" as A
participant ":View" as sys
participant ":FE_Component" as comp
participant ":FE_Service" as FEsrvc
participant ":Routing" as route
participant "IFloorController" as IF
participant "FloorController" as F
participant "IFloorService" as IG
participant "FloorService" as G
participant "IFloorRepo" as IH
participant "FloorRepo" as H
participant "Floor Entity" as FE
participant "ConfigFile" as CONF
participant "IFloorPersistence" as IJ
participant "FloorPersistence" as J
participant "FloorSchema" as K
participant "BuildingMap" as BM

A -> sys: Accesses web interface
sys -> comp: Display form to input building ID
comp -> sys: User inputs buildingID
sys -> FEsrvc: Submit building ID
FEsrvc -> route: Request to list floors by building ID
route -> IF: Forward request (buildingID)
A -> IF: send request to listFloorsByBuildingID(buildingID)
activate IF

IF -> F: listFloorsByBuildingID(buildingID)
activate F
F -> CONF: Injects Service
activate CONF
CONF -> F
deactivate CONF
F -> IG: getFloorsByBuilding(buildingID)
activate IG

IG -> G: findByBuildingID(buildingID)
activate G

G -> IH: findByBuildingID(buildingID)
activate IH

IH -> H: findByBuildingID(buildingID)
activate H

H -> IJ: query as FilterQuery<IFloorPersistence & Document>
activate IJ

IJ -> J: 
activate J

J -> IJ:
deactivate J

IJ -> H:
deactivate IJ

H -> K: findOne(query)
activate K

K - -> H: return floor entity
deactivate K

H - -> IH: return floor entity
deactivate H

IH - -> G: floor entities
deactivate IH
G - -> FE: floors: Floor[] = floorsWithBuildingID
activate FE
FE - -> G: returns floorsWithBuildingID
deactivate FE
G - -> BM: floorsDTO = floors.map(floor => FloorMap.toDTO(floor))
activate BM
BM - -> G: returns floorDTO
deactivate BM
G - -> IG: return floorsDTO
deactivate G

IG - -> F: Return floorsDTO
deactivate IG

F -> IF: Send response with status 200 and the floorsDTO
IF -> route: Forward response

route -> FEsrvc: Forward response
FEsrvc -> comp: Display result (list of floorDTOs)
comp -> sys: Update view to show floors
sys -> A: Show floors by building ID to User

@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.21+9
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>