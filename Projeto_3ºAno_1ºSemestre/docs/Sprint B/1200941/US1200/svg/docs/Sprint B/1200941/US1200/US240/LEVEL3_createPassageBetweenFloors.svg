<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1132px" preserveAspectRatio="none" style="width:3341px;height:1132px;" version="1.1" viewBox="0 0 3341 1132" width="3341px" zoomAndPan="magnify"><defs><filter height="300%" id="fa9p55vifg6jv" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fa9p55vifg6jv)" height="838.7188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1202" y="244.2266"/><rect fill="#FFFFFF" filter="url(#fa9p55vifg6jv)" height="809.5859" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1563" y="273.3594"/><rect fill="#FFFFFF" filter="url(#fa9p55vifg6jv)" height="553.5234" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1860" y="345.625"/><rect fill="#FFFFFF" filter="url(#fa9p55vifg6jv)" height="495.2578" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2157" y="374.7578"/><rect fill="#FFFFFF" filter="url(#fa9p55vifg6jv)" height="145.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2289" y="403.8906"/><rect fill="#FFFFFF" filter="url(#fa9p55vifg6jv)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2434" y="433.0234"/><rect fill="#FFFFFF" filter="url(#fa9p55vifg6jv)" height="145.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2434" y="636.9531"/><rect fill="#FFFFFF" filter="url(#fa9p55vifg6jv)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2535.5" y="578.6875"/><rect fill="#FFFFFF" filter="url(#fa9p55vifg6jv)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2807" y="462.1563"/><rect fill="#FFFFFF" filter="url(#fa9p55vifg6jv)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2807" y="666.0859"/><rect fill="#FFFFFF" filter="url(#fa9p55vifg6jv)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2911.5" y="811.75"/><rect fill="#FFFFFF" filter="url(#fa9p55vifg6jv)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="3171.5" y="695.2188"/><rect fill="#FFFFFF" filter="url(#fa9p55vifg6jv)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="3286.5" y="302.4922"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="33" x2="33" y1="38.2969" y2="1091.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="232.5" x2="232.5" y1="38.2969" y2="1091.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="456.5" x2="456.5" y1="38.2969" y2="1091.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="638.5" x2="638.5" y1="38.2969" y2="1091.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="931.5" x2="931.5" y1="38.2969" y2="1091.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1207" x2="1207" y1="38.2969" y2="1091.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1567.5" x2="1567.5" y1="38.2969" y2="1091.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1864.5" x2="1864.5" y1="38.2969" y2="1091.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2162" x2="2162" y1="38.2969" y2="1091.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2294" x2="2294" y1="38.2969" y2="1091.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2438.5" x2="2438.5" y1="38.2969" y2="1091.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2540.5" x2="2540.5" y1="38.2969" y2="1091.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2812" x2="2812" y1="38.2969" y2="1091.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2916" x2="2916" y1="38.2969" y2="1091.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="3035" x2="3035" y1="38.2969" y2="1091.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="3176" x2="3176" y1="38.2969" y2="1091.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="3291" x2="3291" y1="38.2969" y2="1091.9453"/><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="46" x="8" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="15" y="22.9951">User</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="46" x="8" y="1090.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="15" y="1110.9404">User</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="51" x="205.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="212.5" y="22.9951">:View</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="51" x="205.5" y="1090.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="212.5" y="1110.9404">:View</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="392.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="399.5" y="22.9951">:FE_Component</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="392.5" y="1090.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="399.5" y="1110.9404">:FE_Component</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="93" x="590.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="597.5" y="22.9951">:FE_Service</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="93" x="590.5" y="1090.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="597.5" y="1110.9404">:FE_Service</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="73" x="893.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="900.5" y="22.9951">:Routing</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="73" x="893.5" y="1090.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="900.5" y="1110.9404">:Routing</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="1146" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="1153" y="22.9951">IFloorController</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="1146" y="1090.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="1153" y="1110.9404">IFloorController</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="115" x="1508.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="101" x="1515.5" y="22.9951">FloorController</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="115" x="1508.5" y="1090.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="101" x="1515.5" y="1110.9404">FloorController</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="101" x="1812.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="1819.5" y="22.9951">IFloorService</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="101" x="1812.5" y="1090.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="1819.5" y="1110.9404">IFloorService</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="2111" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="2118" y="22.9951">FloorService</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="2111" y="1090.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="2118" y="1110.9404">FloorService</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="2248" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="2255" y="22.9951">IFloorRepo</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="88" x="2248" y="1090.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="74" x="2255" y="1110.9404">IFloorRepo</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="2394.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="2401.5" y="22.9951">FloorRepo</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="85" x="2394.5" y="1090.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="2401.5" y="1110.9404">FloorRepo</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="90" x="2493.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="76" x="2500.5" y="22.9951">Floor Entity</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="90" x="2493.5" y="1090.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="76" x="2500.5" y="1110.9404">Floor Entity</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="2758" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="2765" y="22.9951">FloorSchema</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="2758" y="1090.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="2765" y="1110.9404">FloorSchema</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="2876" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="2883" y="22.9951">FloorMap</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="77" x="2876" y="1090.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="63" x="2883" y="1110.9404">FloorMap</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="133" x="2967" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119" x="2974" y="22.9951">IFloorPersistence</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="133" x="2967" y="1090.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="119" x="2974" y="1110.9404">IFloorPersistence</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="121" x="3114" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="3121" y="22.9951">FloorDocument</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="121" x="3114" y="1090.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="107" x="3121" y="1110.9404">FloorDocument</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="81" x="3249" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="3256" y="22.9951">ConfigFile</text><rect fill="#FEFECE" filter="url(#fa9p55vifg6jv)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="81" x="3249" y="1090.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="67" x="3256" y="1110.9404">ConfigFile</text><rect fill="#FFFFFF" filter="url(#fa9p55vifg6jv)" height="838.7188" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1202" y="244.2266"/><rect fill="#FFFFFF" filter="url(#fa9p55vifg6jv)" height="809.5859" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1563" y="273.3594"/><rect fill="#FFFFFF" filter="url(#fa9p55vifg6jv)" height="553.5234" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1860" y="345.625"/><rect fill="#FFFFFF" filter="url(#fa9p55vifg6jv)" height="495.2578" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2157" y="374.7578"/><rect fill="#FFFFFF" filter="url(#fa9p55vifg6jv)" height="145.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2289" y="403.8906"/><rect fill="#FFFFFF" filter="url(#fa9p55vifg6jv)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2434" y="433.0234"/><rect fill="#FFFFFF" filter="url(#fa9p55vifg6jv)" height="145.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2434" y="636.9531"/><rect fill="#FFFFFF" filter="url(#fa9p55vifg6jv)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2535.5" y="578.6875"/><rect fill="#FFFFFF" filter="url(#fa9p55vifg6jv)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2807" y="462.1563"/><rect fill="#FFFFFF" filter="url(#fa9p55vifg6jv)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2807" y="666.0859"/><rect fill="#FFFFFF" filter="url(#fa9p55vifg6jv)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="2911.5" y="811.75"/><rect fill="#FFFFFF" filter="url(#fa9p55vifg6jv)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="3171.5" y="695.2188"/><rect fill="#FFFFFF" filter="url(#fa9p55vifg6jv)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="3286.5" y="302.4922"/><polygon fill="#A80036" points="221,65.4297,231,69.4297,221,73.4297,225,69.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="33" x2="227" y1="69.4297" y2="69.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="40" y="64.3638">Accesses web interface</text><polygon fill="#A80036" points="445,94.5625,455,98.5625,445,102.5625,449,98.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="233" x2="451" y1="98.5625" y2="98.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="240" y="93.4966">Display form to create passage</text><polygon fill="#A80036" points="244,123.6953,234,127.6953,244,131.6953,240,127.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="238" x2="456" y1="127.6953" y2="127.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="250" y="122.6294">User inputs passage data</text><polygon fill="#A80036" points="627,152.8281,637,156.8281,627,160.8281,631,156.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="233" x2="633" y1="156.8281" y2="156.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="240" y="151.7622">Submit passage data</text><polygon fill="#A80036" points="920,181.9609,930,185.9609,920,189.9609,924,185.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="639" x2="926" y1="185.9609" y2="185.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="269" x="646" y="180.895">Request to create passage between floors</text><polygon fill="#A80036" points="1195,211.0938,1205,215.0938,1195,219.0938,1199,215.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="932" x2="1201" y1="215.0938" y2="215.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="251" x="939" y="210.0278">Forward request (floorID, passageData)</text><polygon fill="#A80036" points="1190,240.2266,1200,244.2266,1190,248.2266,1194,244.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="33" x2="1196" y1="244.2266" y2="244.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="332" x="40" y="239.1606">createPassageBetweenFloors(floorID, passageData)</text><polygon fill="#A80036" points="1551,269.3594,1561,273.3594,1551,277.3594,1555,273.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1212" x2="1557" y1="273.3594" y2="273.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="332" x="1219" y="268.2935">createPassageBetweenFloors(floorID, passageData)</text><polygon fill="#A80036" points="3274.5,298.4922,3284.5,302.4922,3274.5,306.4922,3278.5,302.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1573" x2="3280.5" y1="302.4922" y2="302.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="92" x="1580" y="297.4263">Injects Service</text><polygon fill="#A80036" points="1584,312.4922,1574,316.4922,1584,320.4922,1580,316.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1578" x2="3290.5" y1="316.4922" y2="316.4922"/><polygon fill="#A80036" points="1848,341.625,1858,345.625,1848,349.625,1852,345.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1573" x2="1854" y1="345.625" y2="345.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="268" x="1580" y="340.5591">addPassageToFloor(floorID, passageData)</text><polygon fill="#A80036" points="2145,370.7578,2155,374.7578,2145,378.7578,2149,374.7578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1870" x2="2151" y1="374.7578" y2="374.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="268" x="1877" y="369.6919">addPassageToFloor(floorID, passageData)</text><polygon fill="#A80036" points="2277,399.8906,2287,403.8906,2277,407.8906,2281,403.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2167" x2="2283" y1="403.8906" y2="403.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="2174" y="398.8247">findByID(floorID)</text><polygon fill="#A80036" points="2422,429.0234,2432,433.0234,2422,437.0234,2426,433.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2299" x2="2428" y1="433.0234" y2="433.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="2306" y="427.9575">findByID(floorID)</text><polygon fill="#A80036" points="2795,458.1563,2805,462.1563,2795,466.1563,2799,462.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2444" x2="2801" y1="462.1563" y2="462.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="344" x="2451" y="457.0903">query as FilterQuery&lt;IFloorPersistence &amp; Document&gt;</text><polygon fill="#A80036" points="2455,487.2891,2445,491.2891,2455,495.2891,2451,491.2891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="2449" x2="2811" y1="491.2891" y2="491.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="2461" y="486.2231">return floor entity</text><polygon fill="#A80036" points="2310,516.4219,2300,520.4219,2310,524.4219,2306,520.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="2304" x2="2438" y1="520.4219" y2="520.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="2316" y="515.356">return floor entity</text><polygon fill="#A80036" points="2178,545.5547,2168,549.5547,2178,553.5547,2174,549.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="2172" x2="2293" y1="549.5547" y2="549.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="2184" y="544.4888">floor entity</text><polygon fill="#A80036" points="2523.5,574.6875,2533.5,578.6875,2523.5,582.6875,2527.5,578.6875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2167" x2="2529.5" y1="578.6875" y2="578.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="223" x="2174" y="573.6216">floor.passages.push(passageData)</text><polygon fill="#A80036" points="2178,603.8203,2168,607.8203,2178,611.8203,2174,607.8203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="2172" x2="2539.5" y1="607.8203" y2="607.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="2184" y="602.7544">updated floor entity</text><polygon fill="#A80036" points="2422,632.9531,2432,636.9531,2422,640.9531,2426,636.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2167" x2="2428" y1="636.9531" y2="636.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="2174" y="631.8872">save(updated floor entity)</text><polygon fill="#A80036" points="2795,662.0859,2805,666.0859,2795,670.0859,2799,666.0859" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2444" x2="2801" y1="666.0859" y2="666.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="2451" y="661.02">findOne(query)</text><polygon fill="#A80036" points="3159.5,691.2188,3169.5,695.2188,3159.5,699.2188,3163.5,695.2188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2817" x2="3165.5" y1="695.2188" y2="695.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="2824" y="690.1528">save rawFloor</text><polygon fill="#A80036" points="2828,720.3516,2818,724.3516,2828,728.3516,2824,724.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="2822" x2="3175.5" y1="724.3516" y2="724.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="2834" y="719.2856">return saved floor document</text><polygon fill="#A80036" points="2455,749.4844,2445,753.4844,2455,757.4844,2451,753.4844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="2449" x2="2811" y1="753.4844" y2="753.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="2461" y="748.4185">return saved floor entity</text><polygon fill="#A80036" points="2178,778.6172,2168,782.6172,2178,786.6172,2174,782.6172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="2172" x2="2438" y1="782.6172" y2="782.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="110" x="2184" y="777.5513">saved floor entity</text><polygon fill="#A80036" points="2899.5,807.75,2909.5,811.75,2899.5,815.75,2903.5,811.75" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="2167" x2="2905.5" y1="811.75" y2="811.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="299" x="2174" y="806.6841">FloorDTO = FloorMap.toDTO(saved floor entity)</text><polygon fill="#A80036" points="2178,836.8828,2168,840.8828,2178,844.8828,2174,840.8828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="2172" x2="2915.5" y1="840.8828" y2="840.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="2184" y="835.8169">returns FloorDTO</text><polygon fill="#A80036" points="1881,866.0156,1871,870.0156,1881,874.0156,1877,870.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1875" x2="2161" y1="870.0156" y2="870.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="1887" y="864.9497">return FloorDTO</text><polygon fill="#A80036" points="1584,895.1484,1574,899.1484,1584,903.1484,1580,899.1484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1578" x2="1864" y1="899.1484" y2="899.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="1590" y="894.0825">Return FloorDTO</text><polygon fill="#A80036" points="1223,924.2813,1213,928.2813,1223,932.2813,1219,928.2813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1217" x2="1562" y1="928.2813" y2="928.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="312" x="1229" y="923.2153">Send response with status 200 and the FloorDTO</text><polygon fill="#A80036" points="943,953.4141,933,957.4141,943,961.4141,939,957.4141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="937" x2="1201" y1="957.4141" y2="957.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="949" y="952.3481">Forward response</text><polygon fill="#A80036" points="650,982.5469,640,986.5469,650,990.5469,646,986.5469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="644" x2="931" y1="986.5469" y2="986.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="656" y="981.481">Forward response</text><polygon fill="#A80036" points="468,1011.6797,458,1015.6797,468,1019.6797,464,1015.6797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="462" x2="638" y1="1015.6797" y2="1015.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="158" x="474" y="1010.6138">Display result (FloorDTO)</text><polygon fill="#A80036" points="244,1040.8125,234,1044.8125,244,1048.8125,240,1044.8125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="238" x2="456" y1="1044.8125" y2="1044.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="250" y="1039.7466">Update view accordingly</text><polygon fill="#A80036" points="44,1069.9453,34,1073.9453,44,1077.9453,40,1073.9453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="38" x2="232" y1="1073.9453" y2="1073.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="50" y="1068.8794">Show final outcome to User</text><!--MD5=[264e7f39276c6955d9b166aea04247fd]
@startuml LEVEL3_createPassageBetweenFloors

participant "User" as U
participant ":View" as sys
participant ":FE_Component" as comp
participant ":FE_Service" as FEsrvc
participant ":Routing" as route
participant "IFloorController" as IFC
participant "FloorController" as FC
participant "IFloorService" as IFS
participant "FloorService" as FS
participant "IFloorRepo" as IFR
participant "FloorRepo" as FR
participant "Floor Entity" as FE
participant "FloorSchema" as FSCH
participant "FloorMap" as FM
participant "IFloorPersistence" as IFP
participant "FloorDocument" as FD
participant "ConfigFile" as CONF

U -> sys: Accesses web interface
sys -> comp: Display form to create passage
comp -> sys: User inputs passage data
sys -> FEsrvc: Submit passage data
FEsrvc -> route: Request to create passage between floors
route -> IFC: Forward request (floorID, passageData)

U -> IFC: createPassageBetweenFloors(floorID, passageData)
activate IFC

IFC -> FC: createPassageBetweenFloors(floorID, passageData)
activate FC
FC -> CONF: Injects Service
activate CONF
CONF -> FC
deactivate CONF
FC -> IFS: addPassageToFloor(floorID, passageData)
activate IFS

IFS -> FS: addPassageToFloor(floorID, passageData)
activate FS

FS -> IFR: findByID(floorID)
activate IFR

IFR -> FR: findByID(floorID)
activate FR

FR -> FSCH: query as FilterQuery<IFloorPersistence & Document>
activate FSCH

FSCH - -> FR: return floor entity
deactivate FSCH

FR - -> IFR: return floor entity
deactivate FR

IFR - -> FS: floor entity
deactivate IFR

FS -> FE: floor.passages.push(passageData)
activate FE

FE - -> FS: updated floor entity
deactivate FE

FS -> FR: save(updated floor entity)
activate FR

FR -> FSCH: findOne(query)
activate FSCH

FSCH -> FD: save rawFloor
activate FD

FD - -> FSCH: return saved floor document
deactivate FD

FSCH - -> FR: return saved floor entity
deactivate FSCH

FR - -> FS: saved floor entity
deactivate FR

FS -> FM: FloorDTO = FloorMap.toDTO(saved floor entity)
activate FM

FM - -> FS: returns FloorDTO
deactivate FM

FS - -> IFS: return FloorDTO
deactivate FS

IFS -> FC: Return FloorDTO
deactivate IFS

FC -> IFC: Send response with status 200 and the FloorDTO
IFC -> route: Forward response

route -> FEsrvc: Forward response
FEsrvc -> comp: Display result (FloorDTO)
comp -> sys: Update view accordingly
sys -> U: Show final outcome to User

@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.21+9
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>