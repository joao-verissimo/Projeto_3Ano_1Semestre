<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1219px" preserveAspectRatio="none" style="width:2005px;height:1219px;" version="1.1" viewBox="0 0 2005 1219" width="2005px" zoomAndPan="magnify"><defs><filter height="300%" id="fjdo1pjslqnd7" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="1025.6484" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="42.5" y="96.2969"/><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="1004.5156" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="250.5" y="117.4297"/><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="946.25" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="444.5" y="175.6953"/><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="145.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="744.5" y="204.8281"/><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="742.3203" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="744.5" y="379.625"/><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="116.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="923.5" y="233.9609"/><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="713.1875" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="923.5" y="408.7578"/><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1155.5" y="263.0938"/><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="684.0547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1155.5" y="437.8906"/><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="58.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1422.5" y="292.2266"/><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="655.9219" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1422.5" y="467.0234"/><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1646.5" y="321.3594"/><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="625.7891" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1646.5" y="496.1563"/><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="58.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1827.5" y="614.6875"/><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1937" y="643.8203"/><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="46.2656" style="stroke: #000000; stroke-width: 2.0;" width="344.5" x="1364" y="540.2891"/><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="426.9922" style="stroke: #000000; stroke-width: 2.0;" width="1695.5" x="13" y="687.9531"/><rect fill="#FFFFFF" height="205.9297" style="stroke: none; stroke-width: 1.0;" width="1695.5" x="13" y="909.0156"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="47" x2="47" y1="86.2969" y2="1131.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="255" x2="255" y1="86.2969" y2="1131.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="449" x2="449" y1="86.2969" y2="1131.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="749" x2="749" y1="86.2969" y2="1131.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="928" x2="928" y1="86.2969" y2="1131.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1160.5" x2="1160.5" y1="86.2969" y2="1131.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1427" x2="1427" y1="86.2969" y2="1131.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1651.5" x2="1651.5" y1="86.2969" y2="1131.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1832.5" x2="1832.5" y1="86.2969" y2="1131.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1941.5" x2="1941.5" y1="86.2969" y2="1131.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="23" y="82.9951">Admin</text><ellipse cx="47.5" cy="13" fill="#FEFECE" filter="url(#fjdo1pjslqnd7)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M47.5,21 L47.5,48 M34.5,29 L60.5,29 M47.5,48 L34.5,63 M47.5,48 L60.5,63 " fill="none" filter="url(#fjdo1pjslqnd7)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="43" x="23" y="1143.9404">Admin</text><ellipse cx="47.5" cy="1157.2422" fill="#FEFECE" filter="url(#fjdo1pjslqnd7)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M47.5,1165.2422 L47.5,1192.2422 M34.5,1173.2422 L60.5,1173.2422 M47.5,1192.2422 L34.5,1207.2422 M47.5,1192.2422 L60.5,1207.2422 " fill="none" filter="url(#fjdo1pjslqnd7)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#fjdo1pjslqnd7)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="51" x="228" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="235" y="70.9951">:View</text><rect fill="#FEFECE" filter="url(#fjdo1pjslqnd7)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="51" x="228" y="1130.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="37" x="235" y="1150.9404">:View</text><rect fill="#FEFECE" filter="url(#fjdo1pjslqnd7)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="385" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="392" y="70.9951">:FE_Component</text><rect fill="#FEFECE" filter="url(#fjdo1pjslqnd7)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="385" y="1130.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="392" y="1150.9404">:FE_Component</text><rect fill="#FEFECE" filter="url(#fjdo1pjslqnd7)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="684" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="691" y="70.9951">:FE_FloorService</text><rect fill="#FEFECE" filter="url(#fjdo1pjslqnd7)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="127" x="684" y="1130.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="113" x="691" y="1150.9404">:FE_FloorService</text><rect fill="#FEFECE" filter="url(#fjdo1pjslqnd7)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="73" x="890" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="897" y="70.9951">:Routing</text><rect fill="#FEFECE" filter="url(#fjdo1pjslqnd7)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="73" x="890" y="1130.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="897" y="1150.9404">:Routing</text><rect fill="#FEFECE" filter="url(#fjdo1pjslqnd7)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="1098.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="1105.5" y="70.9951">:FloorController</text><rect fill="#FEFECE" filter="url(#fjdo1pjslqnd7)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="1098.5" y="1130.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="1105.5" y="1150.9404">:FloorController</text><rect fill="#FEFECE" filter="url(#fjdo1pjslqnd7)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="1374" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="1381" y="70.9951">:FloorService</text><rect fill="#FEFECE" filter="url(#fjdo1pjslqnd7)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="103" x="1374" y="1130.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="1381" y="1150.9404">:FloorService</text><rect fill="#FEFECE" filter="url(#fjdo1pjslqnd7)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="90" x="1604.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="76" x="1611.5" y="70.9951">:FloorRepo</text><rect fill="#FEFECE" filter="url(#fjdo1pjslqnd7)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="90" x="1604.5" y="1130.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="76" x="1611.5" y="1150.9404">:FloorRepo</text><rect fill="#FEFECE" filter="url(#fjdo1pjslqnd7)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="82" x="1789.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="1796.5" y="70.9951">:FloorMap</text><rect fill="#FEFECE" filter="url(#fjdo1pjslqnd7)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="82" x="1789.5" y="1130.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="1796.5" y="1150.9404">:FloorMap</text><rect fill="#FEFECE" filter="url(#fjdo1pjslqnd7)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="1885.5" y="51"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="1892.5" y="70.9951">:FloorSchema</text><rect fill="#FEFECE" filter="url(#fjdo1pjslqnd7)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="109" x="1885.5" y="1130.9453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="95" x="1892.5" y="1150.9404">:FloorSchema</text><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="1025.6484" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="42.5" y="96.2969"/><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="1004.5156" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="250.5" y="117.4297"/><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="946.25" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="444.5" y="175.6953"/><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="145.6641" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="744.5" y="204.8281"/><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="742.3203" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="744.5" y="379.625"/><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="116.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="923.5" y="233.9609"/><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="713.1875" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="923.5" y="408.7578"/><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="87.3984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1155.5" y="263.0938"/><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="684.0547" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1155.5" y="437.8906"/><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="58.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1422.5" y="292.2266"/><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="655.9219" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1422.5" y="467.0234"/><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1646.5" y="321.3594"/><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="625.7891" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1646.5" y="496.1563"/><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="58.2656" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1827.5" y="614.6875"/><rect fill="#FFFFFF" filter="url(#fjdo1pjslqnd7)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1937" y="643.8203"/><polygon fill="#A80036" points="238.5,113.4297,248.5,117.4297,238.5,121.4297,242.5,117.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="52.5" x2="244.5" y1="117.4297" y2="117.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="59.5" y="112.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="72.5" y="112.3638">update floor passages</text><polygon fill="#A80036" points="63.5,142.5625,53.5,146.5625,63.5,150.5625,59.5,146.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="57.5" x2="249.5" y1="146.5625" y2="146.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="69.5" y="141.4966">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="82.5" y="141.4966">request necessary data()</text><polygon fill="#A80036" points="238.5,171.6953,248.5,175.6953,238.5,179.6953,242.5,175.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="52.5" x2="244.5" y1="175.6953" y2="175.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="59.5" y="170.6294">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="72.5" y="170.6294">insert all the data</text><polygon fill="#A80036" points="432.5,200.8281,442.5,204.8281,432.5,208.8281,436.5,204.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="260.5" x2="438.5" y1="204.8281" y2="204.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="267.5" y="199.7622">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="69" x="280.5" y="199.7622">getFloors()</text><polygon fill="#A80036" points="732.5,229.9609,742.5,233.9609,732.5,237.9609,736.5,233.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="454.5" x2="738.5" y1="233.9609" y2="233.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="461.5" y="228.895">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="474.5" y="228.895">listFloors()</text><polygon fill="#A80036" points="911.5,259.0938,921.5,263.0938,911.5,267.0938,915.5,263.0938" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="754.5" x2="917.5" y1="263.0938" y2="263.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="761.5" y="258.0278">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="774.5" y="258.0278">GET route{}</text><polygon fill="#A80036" points="1143.5,288.2266,1153.5,292.2266,1143.5,296.2266,1147.5,292.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="933.5" x2="1149.5" y1="292.2266" y2="292.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="940.5" y="287.1606">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="953.5" y="287.1606">listAllFloors()</text><polygon fill="#A80036" points="1410.5,317.3594,1420.5,321.3594,1410.5,325.3594,1414.5,321.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1165.5" x2="1416.5" y1="321.3594" y2="321.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1172.5" y="316.2935">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="1185.5" y="316.2935">findAll()</text><polygon fill="#A80036" points="1639.5,346.4922,1649.5,350.4922,1639.5,354.4922,1643.5,350.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1427.5" x2="1645.5" y1="350.4922" y2="350.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1434.5" y="345.4263">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="48" x="1447.5" y="345.4263">findAll()</text><polygon fill="#A80036" points="432.5,375.625,442.5,379.625,432.5,383.625,436.5,379.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="260.5" x2="438.5" y1="379.625" y2="379.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="267.5" y="374.5591">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="289.5" y="374.5591">patchFloorPassages()</text><polygon fill="#A80036" points="732.5,404.7578,742.5,408.7578,732.5,412.7578,736.5,408.7578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="454.5" x2="738.5" y1="408.7578" y2="408.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="461.5" y="403.6919">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="244" x="483.5" y="403.6919">patchPassages(Object{id, passages})</text><polygon fill="#A80036" points="911.5,433.8906,921.5,437.8906,911.5,441.8906,915.5,437.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="754.5" x2="917.5" y1="437.8906" y2="437.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="761.5" y="432.8247">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="783.5" y="432.8247">PATCH route{json}</text><polygon fill="#A80036" points="1143.5,463.0234,1153.5,467.0234,1143.5,471.0234,1147.5,467.0234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="933.5" x2="1149.5" y1="467.0234" y2="467.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="940.5" y="461.9575">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="176" x="962.5" y="461.9575">patchPassageBuilding(json)</text><polygon fill="#A80036" points="1410.5,492.1563,1420.5,496.1563,1410.5,500.1563,1414.5,496.1563" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1165.5" x2="1416.5" y1="496.1563" y2="496.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1172.5" y="491.0903">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="211" x="1194.5" y="491.0903">patchPassageBuilding(IFloorDTO)</text><polygon fill="#A80036" points="1634.5,521.2891,1644.5,525.2891,1634.5,529.2891,1638.5,525.2891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1432.5" x2="1640.5" y1="525.2891" y2="525.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1439.5" y="520.2231">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="1461.5" y="520.2231">findById(floor.id)</text><path d="M1364,540.2891 L1441,540.2891 L1441,547.2891 L1431,557.2891 L1364,557.2891 L1364,540.2891 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="46.2656" style="stroke: #000000; stroke-width: 2.0;" width="344.5" x="1364" y="540.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="1379" y="553.356">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="91" x="1456" y="552.4995">[all passages]</text><polygon fill="#A80036" points="1634.5,574.5547,1644.5,578.5547,1634.5,582.5547,1638.5,578.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1432.5" x2="1640.5" y1="578.5547" y2="578.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1439.5" y="573.4888">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="1461.5" y="573.4888">findById(floor.passages.id)</text><polygon fill="#A80036" points="1634.5,610.6875,1644.5,614.6875,1634.5,618.6875,1638.5,614.6875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1432.5" x2="1640.5" y1="614.6875" y2="614.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1439.5" y="609.6216">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="1461.5" y="609.6216">save(floor)</text><polygon fill="#A80036" points="1815.5,639.8203,1825.5,643.8203,1815.5,647.8203,1819.5,643.8203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1656.5" x2="1821.5" y1="643.8203" y2="643.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1663.5" y="638.7544">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="1685.5" y="638.7544">toPersistance(floor)</text><polygon fill="#A80036" points="1930,668.9531,1940,672.9531,1930,676.9531,1934,672.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1656.5" x2="1936" y1="672.9531" y2="672.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1663.5" y="667.8872">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="1685.5" y="667.8872">create(floor)</text><path d="M13,687.9531 L77,687.9531 L77,694.9531 L67,704.9531 L13,704.9531 L13,687.9531 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="426.9922" style="stroke: #000000; stroke-width: 2.0;" width="1695.5" x="13" y="687.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="28" y="701.02">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="135" x="92" y="700.1636">[saved with success]</text><polygon fill="#A80036" points="1443.5,722.2188,1433.5,726.2188,1443.5,730.2188,1439.5,726.2188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1437.5" x2="1645.5" y1="726.2188" y2="726.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1449.5" y="721.1528">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="1471.5" y="721.1528">floor</text><polygon fill="#A80036" points="1176.5,751.3516,1166.5,755.3516,1176.5,759.3516,1172.5,755.3516" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1170.5" x2="1421.5" y1="755.3516" y2="755.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1182.5" y="750.2856">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="1204.5" y="750.2856">floor</text><polygon fill="#A80036" points="944.5,780.4844,934.5,784.4844,944.5,788.4844,940.5,784.4844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="938.5" x2="1154.5" y1="784.4844" y2="784.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="950.5" y="779.4185">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="64" x="972.5" y="779.4185">HTTP: 201</text><polygon fill="#A80036" points="765.5,809.6172,755.5,813.6172,765.5,817.6172,761.5,813.6172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="759.5" x2="922.5" y1="813.6172" y2="813.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="771.5" y="808.5513">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="64" x="793.5" y="808.5513">HTTP: 201</text><polygon fill="#A80036" points="465.5,838.75,455.5,842.75,465.5,846.75,461.5,842.75" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="459.5" x2="743.5" y1="842.75" y2="842.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="471.5" y="837.6841">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="64" x="493.5" y="837.6841">HTTP: 201</text><polygon fill="#A80036" points="271.5,867.8828,261.5,871.8828,271.5,875.8828,267.5,871.8828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="265.5" x2="443.5" y1="871.8828" y2="871.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="277.5" y="866.8169">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="64" x="299.5" y="866.8169">HTTP: 201</text><polygon fill="#A80036" points="63.5,897.0156,53.5,901.0156,63.5,905.0156,59.5,901.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="57.5" x2="249.5" y1="901.0156" y2="901.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="69.5" y="895.9497">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="91.5" y="895.9497">show success message</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="1708.5" y1="910.0156" y2="910.0156"/><polygon fill="#A80036" points="1443.5,928.1484,1433.5,932.1484,1443.5,936.1484,1439.5,932.1484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1437.5" x2="1645.5" y1="932.1484" y2="932.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1449.5" y="927.0825">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="1471.5" y="927.0825">error</text><polygon fill="#A80036" points="1176.5,957.2813,1166.5,961.2813,1176.5,965.2813,1172.5,961.2813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1170.5" x2="1421.5" y1="961.2813" y2="961.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1182.5" y="956.2153">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="1204.5" y="956.2153">error</text><polygon fill="#A80036" points="944.5,986.4141,934.5,990.4141,944.5,994.4141,940.5,990.4141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="938.5" x2="1154.5" y1="990.4141" y2="990.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="950.5" y="985.3481">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="64" x="972.5" y="985.3481">HTTP: 400</text><polygon fill="#A80036" points="765.5,1015.5469,755.5,1019.5469,765.5,1023.5469,761.5,1019.5469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="759.5" x2="922.5" y1="1019.5469" y2="1019.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="771.5" y="1014.481">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="64" x="793.5" y="1014.481">HTTP: 400</text><polygon fill="#A80036" points="465.5,1044.6797,455.5,1048.6797,465.5,1052.6797,461.5,1048.6797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="459.5" x2="743.5" y1="1048.6797" y2="1048.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="471.5" y="1043.6138">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="64" x="493.5" y="1043.6138">HTTP: 400</text><polygon fill="#A80036" points="271.5,1073.8125,261.5,1077.8125,271.5,1081.8125,267.5,1077.8125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="265.5" x2="443.5" y1="1077.8125" y2="1077.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="277.5" y="1072.7466">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="64" x="299.5" y="1072.7466">HTTP: 400</text><polygon fill="#A80036" points="63.5,1102.9453,53.5,1106.9453,63.5,1110.9453,59.5,1106.9453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="57.5" x2="249.5" y1="1106.9453" y2="1106.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="69.5" y="1101.8794">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="138" x="91.5" y="1101.8794">show failure message</text><!--MD5=[5bc243ef140fc562afa75d0fae48a2b0]
@startuml
autonumber
actor "Admin" as admin

participant ":View" as sys
participant ":FE_Component" as comp
participant ":FE_FloorService" as FEsrvc
participant ":Routing" as route
participant ":FloorController" as ctrl
participant ":FloorService" as srvc
participant ":FloorRepo" as repo
participant ":FloorMap" as rtMap
participant ":FloorSchema" as rtSchema

activate admin

admin -> sys: update floor passages
activate sys
sys - -> admin: request necessary data()
admin -> sys : insert all the data
activate comp

sys -> comp : getFloors()
activate FEsrvc
comp -> FEsrvc : listFloors()
activate route
FEsrvc -> route: GET route{}
activate ctrl
route -> ctrl: listAllFloors()
activate srvc
ctrl -> srvc: findAll()
activate repo
srvc -> repo: findAll()
deactivate FEsrvc
deactivate route
deactivate ctrl
deactivate srvc
deactivate repo

sys -> comp : patchFloorPassages()
activate FEsrvc
comp -> FEsrvc : patchPassages(Object{id, passages})
activate route
FEsrvc -> route: PATCH route{json}
activate ctrl
route -> ctrl: patchPassageBuilding(json)
activate srvc
ctrl -> srvc: patchPassageBuilding(IFloorDTO)
activate repo
srvc -> repo: findById(floor.id)
loop all passages
    srvc -> repo: findById(floor.passages.id)
end

srvc -> repo: save(floor)
activate rtMap
repo -> rtMap: toPersistance(floor)
activate rtSchema
repo -> rtSchema: create(floor)
deactivate rtSchema
deactivate rtMap

alt saved with success
    repo - -> srvc: floor
    srvc - -> ctrl: floor
    ctrl - -> route : HTTP: 201
    route - -> FEsrvc: HTTP: 201
    FEsrvc - -> comp: HTTP: 201
    comp - -> sys: HTTP: 201
    sys - -> admin: show success message
else
    repo - -> srvc: error
    srvc - -> ctrl: error
    ctrl - -> route : HTTP: 400
    route - -> FEsrvc: HTTP: 400
    FEsrvc - -> comp: HTTP: 400
    comp - -> sys: HTTP: 400
    sys - -> admin: show failure message
end

deactivate repo
deactivate ctrl
deactivate route
deactivate FEsrvc
deactivate comp
deactivate sys
deactivate admin
@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.21+9
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>